{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/utils/blocksToHTML.ts"],"sourcesContent":["import { Block } from \"./types\";\r\n\r\nexport default function blocksToHTML(blocks: Block[], fontScale: number = 1): string {\r\n    return blocks.map(block => {\r\n      switch (block.type) {\r\n        case \"header\": {\r\n          const text = block.content?.title || \"\";\r\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px;\">\r\n            <h1 style=\"font-size:${18 * fontScale}pt; font-weight:bold; margin:0; padding:0;\">${text}</h1>\r\n          </div>`;\r\n        }\r\n  \r\n        case \"contact\": {\r\n          const c = block.content || {};\r\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n            ${c.email || \"\"} • ${c.phone || \"\"} • ${c.address || \"\"} • ${c.linkedin || \"\"}\r\n          </div>`;\r\n        }\r\n  \r\n        case \"text\": {\r\n          const content = block.content || \"\";\r\n          const isItalic = content.includes(\"Étudiant à IMT Atlantique\");\r\n          const isBullet = content.startsWith(\"•\");\r\n          const hasChildren = block.children && block.children.length > 0;\r\n          \r\n          if (isBullet) {\r\n            return `<div style=\"margin-left:${16 * fontScale}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          } else if (isItalic) {\r\n            return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-style:italic; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          } else {\r\n            return `<div style=\"margin-left:${hasChildren ? 16 * fontScale : 0}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          }\r\n        }\r\n  \r\n        case \"divider\":\r\n          return `<hr style=\"border:0; border-top:1px solid #000; margin:${8 * fontScale}px 0;\"/>`;\r\n  \r\n        case \"section\":\r\n          return `<div style=\"margin-top:${8 * fontScale}px;\">\r\n            <h2 style=\"font-size:${12 * fontScale}pt; font-weight:bold; text-transform:uppercase; margin:0 0 ${4 * fontScale}px 0;\">${block.content?.title || \"\"}</h2>\r\n            ${blocksToHTML(block.children || [], fontScale)}\r\n          </div>`;\r\n  \r\n        case \"subsection\":\r\n          return `<div style=\"margin-bottom:${4 * fontScale}px;\">\r\n            <div style=\"display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:${2 * fontScale}px;\">\r\n              <div>\r\n                <div style=\"font-weight:bold; font-size:${10 * fontScale}pt;\">${block.content?.title || \"\"}</div>\r\n                ${block.content?.subtitle ? `<div style=\"font-size:${10 * fontScale}pt; margin-top:${1 * fontScale}px;\">${block.content.subtitle}</div>` : \"\"}\r\n              </div>\r\n              <div style=\"font-style:italic; font-size:${10 * fontScale}pt;\">${block.content?.period || \"\"}</div>\r\n            </div>\r\n            ${blocksToHTML(block.children || [], fontScale)}\r\n          </div>`;\r\n  \r\n        default:\r\n          return \"\";\r\n      }\r\n    }).join(\"\");\r\n  }\r\n  "],"names":[],"mappings":";;;;AAEe,SAAS,aAAa,MAAe,EAAE,YAAoB,CAAC;IACvE,OAAO,OAAO,GAAG,CAAC,CAAA;QAChB,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAU;oBACb,MAAM,OAAO,MAAM,OAAO,EAAE,SAAS;oBACrC,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU;iCAC9C,EAAE,KAAK,UAAU,4CAA4C,EAAE,KAAK;gBACrF,CAAC;gBACT;YAEA,KAAK;gBAAW;oBACd,MAAM,IAAI,MAAM,OAAO,IAAI,CAAC;oBAC5B,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;YAClG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,GAAG,EAAE,EAAE,QAAQ,IAAI,GAAG;gBAC1E,CAAC;gBACT;YAEA,KAAK;gBAAQ;oBACX,MAAM,UAAU,MAAM,OAAO,IAAI;oBACjC,MAAM,WAAW,QAAQ,QAAQ,CAAC;oBAClC,MAAM,WAAW,QAAQ,UAAU,CAAC;oBACpC,MAAM,cAAc,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,GAAG;oBAE9D,IAAI,UAAU;wBACZ,OAAO,CAAC,wBAAwB,EAAE,KAAK,UAAU,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAChH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO,IAAI,UAAU;wBACnB,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,iCAAiC,EAAE,KAAK,UAAU;cACrH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO;wBACL,OAAO,CAAC,wBAAwB,EAAE,cAAc,KAAK,YAAY,EAAE,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAClI,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD;gBACF;YAEA,KAAK;gBACH,OAAO,CAAC,uDAAuD,EAAE,IAAI,UAAU,QAAQ,CAAC;YAE1F,KAAK;gBACH,OAAO,CAAC,uBAAuB,EAAE,IAAI,UAAU;iCACxB,EAAE,KAAK,UAAU,2DAA2D,EAAE,IAAI,UAAU,OAAO,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;YACrJ,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET,KAAK;gBACH,OAAO,CAAC,0BAA0B,EAAE,IAAI,UAAU;2GAC+C,EAAE,IAAI,UAAU;;wDAEnE,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;gBAC3F,EAAE,MAAM,OAAO,EAAE,WAAW,CAAC,sBAAsB,EAAE,KAAK,UAAU,eAAe,EAAE,IAAI,UAAU,KAAK,EAAE,MAAM,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,GAAG;;uDAEvG,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,UAAU,GAAG;;YAE/F,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET;gBACE,OAAO;QACX;IACF,GAAG,IAAI,CAAC;AACV","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/pages/api/generate-pdf.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from \"next\";\r\nimport puppeteer from \"puppeteer\";\r\nimport blocksToHTML from \"../../utils/blocksToHTML\";\r\nimport { Block } from \"../../utils/types\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  const blocks: Block[] = req.body.blocks;\r\n  const fontScale: number = req.body.fontScale || 1;\r\n\r\n  const html = `\r\n  <html>\r\n    <head>\r\n      <style>\r\n        @page { size: A4; margin: 15mm; }\r\n        body { font-family: 'Times New Roman', serif; font-size: ${10 * fontScale}pt; line-height: ${1.2 * fontScale}em; }\r\n        h3 { margin: ${4 * fontScale}mm 0 ${2 * fontScale}mm 0; text-transform: uppercase; }\r\n        h4 { margin: ${2 * fontScale}mm 0; }\r\n        p, li { margin: 0; padding: 0; }\r\n        ul { margin-left: ${10 * fontScale}pt; padding-left: ${10 * fontScale}pt; }\r\n        hr { border: 0; border-top: 0.2pt solid #000; margin: ${3 * fontScale}mm 0; }\r\n      </style>\r\n    </head>\r\n    <body>${blocksToHTML(blocks, fontScale)}</body>\r\n  </html>`;\r\n\r\n  const browser = await puppeteer.launch({ args: [\"--no-sandbox\"] });\r\n  const page = await browser.newPage();\r\n  await page.setContent(html);\r\n\r\n  const pdf = await page.pdf({ format: \"A4\", printBackground: true });\r\n  await browser.close();\r\n\r\n  res.setHeader(\"Content-Type\", \"application/pdf\");\r\n  res.end(pdf);\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;;;;;AAGe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,MAAM,SAAkB,IAAI,IAAI,CAAC,MAAM;IACvC,MAAM,YAAoB,IAAI,IAAI,CAAC,SAAS,IAAI;IAEhD,MAAM,OAAO,CAAC;;;;;iEAKiD,EAAE,KAAK,UAAU,iBAAiB,EAAE,MAAM,UAAU;qBAChG,EAAE,IAAI,UAAU,KAAK,EAAE,IAAI,UAAU;qBACrC,EAAE,IAAI,UAAU;;0BAEX,EAAE,KAAK,UAAU,kBAAkB,EAAE,KAAK,UAAU;8DAChB,EAAE,IAAI,UAAU;;;UAGpE,EAAE,IAAA,yHAAY,EAAC,QAAQ,WAAW;SACnC,CAAC;IAER,MAAM,UAAU,MAAM,6HAAS,CAAC,MAAM,CAAC;QAAE,MAAM;YAAC;SAAe;IAAC;IAChE,MAAM,OAAO,MAAM,QAAQ,OAAO;IAClC,MAAM,KAAK,UAAU,CAAC;IAEtB,MAAM,MAAM,MAAM,KAAK,GAAG,CAAC;QAAE,QAAQ;QAAM,iBAAiB;IAAK;IACjE,MAAM,QAAQ,KAAK;IAEnB,IAAI,SAAS,CAAC,gBAAgB;IAC9B,IAAI,GAAG,CAAC;AACV","debugId":null}}]
}