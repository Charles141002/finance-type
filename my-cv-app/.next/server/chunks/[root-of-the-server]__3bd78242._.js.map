{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/my-cv-app/utils/blocksToHTML.ts"],"sourcesContent":["import { Block } from \"./types\";\n\nexport default function blocksToHTML(blocks: Block[], fontScale: number = 1): string {\n    return blocks.map(block => {\n      switch (block.type) {\n        case \"header\": {\n          const text = block.content?.title || \"\";\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px;\">\n            <h1 style=\"font-size:${18 * fontScale}pt; font-weight:bold; margin:0; padding:0;\">${text}</h1>\n          </div>`;\n        }\n  \n        case \"contact\": {\n          const c = block.content || {};\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-size:${10 * fontScale}pt;\">\n            ${c.email || \"\"} • ${c.phone || \"\"} • ${c.address || \"\"} • ${c.linkedin || \"\"}\n          </div>`;\n        }\n  \n        case \"text\": {\n          const content = block.content || \"\";\n          const isItalic = content.includes(\"Étudiant à IMT Atlantique\");\n          const isBullet = content.startsWith(\"•\");\n          const hasChildren = block.children && block.children.length > 0;\n          \n          if (isBullet) {\n            return `<div style=\"margin-left:${16 * fontScale}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\n              ${content}\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\n          } else if (isItalic) {\n            return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-style:italic; font-size:${10 * fontScale}pt;\">\n              ${content}\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\n          } else {\n            return `<div style=\"margin-left:${hasChildren ? 16 * fontScale : 0}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\n              ${content}\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\n          }\n        }\n  \n        case \"divider\":\n          return `<hr style=\"border:0; border-top:1px solid #000; margin:${8 * fontScale}px 0;\"/>`;\n  \n        case \"section\":\n          return `<div style=\"margin-top:${8 * fontScale}px;\">\n            <h2 style=\"font-size:${12 * fontScale}pt; font-weight:bold; text-transform:uppercase; margin:0 0 ${4 * fontScale}px 0;\">${block.content?.title || \"\"}</h2>\n            ${blocksToHTML(block.children || [], fontScale)}\n          </div>`;\n  \n        case \"subsection\":\n          return `<div style=\"margin-bottom:${4 * fontScale}px;\">\n            <div style=\"display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:${2 * fontScale}px;\">\n              <div>\n                <div style=\"font-weight:bold; font-size:${10 * fontScale}pt;\">${block.content?.title || \"\"}</div>\n                ${block.content?.subtitle ? `<div style=\"font-size:${10 * fontScale}pt; margin-top:${1 * fontScale}px;\">${block.content.subtitle}</div>` : \"\"}\n              </div>\n              <div style=\"font-style:italic; font-size:${10 * fontScale}pt;\">${block.content?.period || \"\"}</div>\n            </div>\n            ${blocksToHTML(block.children || [], fontScale)}\n          </div>`;\n  \n        default:\n          return \"\";\n      }\n    }).join(\"\");\n  }\n  "],"names":[],"mappings":";;;;AAEe,SAAS,aAAa,MAAe,EAAE,YAAoB,CAAC;IACvE,OAAO,OAAO,GAAG,CAAC,CAAA;QAChB,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAU;oBACb,MAAM,OAAO,MAAM,OAAO,EAAE,SAAS;oBACrC,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU;iCAC9C,EAAE,KAAK,UAAU,4CAA4C,EAAE,KAAK;gBACrF,CAAC;gBACT;YAEA,KAAK;gBAAW;oBACd,MAAM,IAAI,MAAM,OAAO,IAAI,CAAC;oBAC5B,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;YAClG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,GAAG,EAAE,EAAE,QAAQ,IAAI,GAAG;gBAC1E,CAAC;gBACT;YAEA,KAAK;gBAAQ;oBACX,MAAM,UAAU,MAAM,OAAO,IAAI;oBACjC,MAAM,WAAW,QAAQ,QAAQ,CAAC;oBAClC,MAAM,WAAW,QAAQ,UAAU,CAAC;oBACpC,MAAM,cAAc,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,GAAG;oBAE9D,IAAI,UAAU;wBACZ,OAAO,CAAC,wBAAwB,EAAE,KAAK,UAAU,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAChH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO,IAAI,UAAU;wBACnB,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,iCAAiC,EAAE,KAAK,UAAU;cACrH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO;wBACL,OAAO,CAAC,wBAAwB,EAAE,cAAc,KAAK,YAAY,EAAE,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAClI,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD;gBACF;YAEA,KAAK;gBACH,OAAO,CAAC,uDAAuD,EAAE,IAAI,UAAU,QAAQ,CAAC;YAE1F,KAAK;gBACH,OAAO,CAAC,uBAAuB,EAAE,IAAI,UAAU;iCACxB,EAAE,KAAK,UAAU,2DAA2D,EAAE,IAAI,UAAU,OAAO,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;YACrJ,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET,KAAK;gBACH,OAAO,CAAC,0BAA0B,EAAE,IAAI,UAAU;2GAC+C,EAAE,IAAI,UAAU;;wDAEnE,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;gBAC3F,EAAE,MAAM,OAAO,EAAE,WAAW,CAAC,sBAAsB,EAAE,KAAK,UAAU,eAAe,EAAE,IAAI,UAAU,KAAK,EAAE,MAAM,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,GAAG;;uDAEvG,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,UAAU,GAAG;;YAE/F,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET;gBACE,OAAO;QACX;IACF,GAAG,IAAI,CAAC;AACV","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/my-cv-app/pages/api/generate-pdf.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from \"next\";\nimport puppeteer from \"puppeteer\";\nimport blocksToHTML from \"../../utils/blocksToHTML\";\nimport { Block } from \"../../utils/types\";\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const blocks: Block[] = req.body.blocks;\n  const fontScale: number = req.body.fontScale || 1;\n\n  const html = `\n  <html>\n    <head>\n      <style>\n        @page { size: A4; margin: 15mm; }\n        body { font-family: 'Times New Roman', serif; font-size: ${10 * fontScale}pt; line-height: ${1.2 * fontScale}em; }\n        h3 { margin: ${4 * fontScale}mm 0 ${2 * fontScale}mm 0; text-transform: uppercase; }\n        h4 { margin: ${2 * fontScale}mm 0; }\n        p, li { margin: 0; padding: 0; }\n        ul { margin-left: ${10 * fontScale}pt; padding-left: ${10 * fontScale}pt; }\n        hr { border: 0; border-top: 0.2pt solid #000; margin: ${3 * fontScale}mm 0; }\n      </style>\n    </head>\n    <body>${blocksToHTML(blocks, fontScale)}</body>\n  </html>`;\n\n  const browser = await puppeteer.launch({ args: [\"--no-sandbox\"] });\n  const page = await browser.newPage();\n  await page.setContent(html);\n\n  const pdf = await page.pdf({ format: \"A4\", printBackground: true });\n  await browser.close();\n\n  res.setHeader(\"Content-Type\", \"application/pdf\");\n  res.end(pdf);\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;;;;;AAGe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,MAAM,SAAkB,IAAI,IAAI,CAAC,MAAM;IACvC,MAAM,YAAoB,IAAI,IAAI,CAAC,SAAS,IAAI;IAEhD,MAAM,OAAO,CAAC;;;;;iEAKiD,EAAE,KAAK,UAAU,iBAAiB,EAAE,MAAM,UAAU;qBAChG,EAAE,IAAI,UAAU,KAAK,EAAE,IAAI,UAAU;qBACrC,EAAE,IAAI,UAAU;;0BAEX,EAAE,KAAK,UAAU,kBAAkB,EAAE,KAAK,UAAU;8DAChB,EAAE,IAAI,UAAU;;;UAGpE,EAAE,IAAA,uJAAY,EAAC,QAAQ,WAAW;SACnC,CAAC;IAER,MAAM,UAAU,MAAM,6HAAS,CAAC,MAAM,CAAC;QAAE,MAAM;YAAC;SAAe;IAAC;IAChE,MAAM,OAAO,MAAM,QAAQ,OAAO;IAClC,MAAM,KAAK,UAAU,CAAC;IAEtB,MAAM,MAAM,MAAM,KAAK,GAAG,CAAC;QAAE,QAAQ;QAAM,iBAAiB;IAAK;IACjE,MAAM,QAAQ,KAAK;IAEnB,IAAI,SAAS,CAAC,gBAAgB;IAC9B,IAAI,GAAG,CAAC;AACV","debugId":null}}]
}