{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/finance-type/my-cv-app/components/DynamicHeader.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { ReactNode, useState, useEffect, useMemo } from \"react\";\nimport { useSession, useSupabaseClient } from \"@supabase/auth-helpers-react\";\nimport type { CSSProperties } from \"react\";\n\ntype DynamicHeaderProps = {\n  rightActions?: ReactNode;\n  variant?: \"default\" | \"landing\";\n  scrollContainerRef?: React.RefObject<HTMLDivElement>;\n};\n\nconst baseNavLink: CSSProperties = {\n  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n  fontWeight: 600,\n  fontSize: 13,\n  letterSpacing: \"0.02em\",\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  gap: 8,\n  padding: \"10px 16px\",\n  borderRadius: 999,\n  transition: \"background-color 0.2s ease, color 0.2s ease\",\n  textDecoration: \"none\",\n};\n\nexport default function DynamicHeader({ rightActions, variant = \"default\", scrollContainerRef }: DynamicHeaderProps) {\n  const [isVisible, setIsVisible] = useState(true);\n  const [lastScrollY, setLastScrollY] = useState(0);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const router = useRouter();\n  const session = useSession();\n  const supabase = useSupabaseClient();\n\n  const theme = useMemo(() => {\n    if (variant === \"landing\") {\n      return {\n        height: 120,\n        wrapper: {\n          transition: \"height 0.35s ease, opacity 0.35s ease\",\n        },\n        container: {\n          height: 120,\n          display: \"flex\",\n          alignItems: \"center\",\n          background: \"linear-gradient(180deg, rgba(2, 6, 23, 0.95), rgba(2, 6, 23, 0.9))\",\n          backdropFilter: \"saturate(140%) blur(8px)\",\n          WebkitBackdropFilter: \"saturate(140%) blur(8px)\",\n          borderBottom: \"2px solid rgba(255,255,255,0.15)\",\n          borderTop: \"1px solid rgba(255,255,255,0.1)\",\n          width: \"100%\",\n        },\n        inner: {\n          width: \"100%\",\n          maxWidth: 2000,\n          margin: \"0 auto\",\n          padding: \"0 24px 0 0\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"flex-start\",\n          gap: 20,\n        },\n        nav: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 28,\n          marginLeft: \"auto\",\n        },\n        navLink: {\n          ...baseNavLink,\n          padding: \"0\",\n          color: \"#e2e8f0\",\n        },\n        primary: {\n          ...baseNavLink,\n          padding: \"12px 22px\",\n          background: \"linear-gradient(135deg, #3b82f6, #1d4ed8)\",\n          color: \"#fff\",\n          border: \"1px solid rgba(255,255,255,0.18)\",\n        },\n        subtle: {\n          ...baseNavLink,\n          padding: \"12px 22px\",\n          background: \"rgba(255,255,255,0.08)\",\n          border: \"1px solid rgba(255,255,255,0.14)\",\n          color: \"#e2e8f0\",\n        },\n        logo: {\n          height: 120,\n        },\n        tagline: null,\n      } as const;\n    }\n\n    return {\n      height: 72,\n      wrapper: {\n        transition: \"height 0.28s ease, opacity 0.28s ease\",\n      },\n      container: {\n        height: 72,\n        display: \"flex\",\n        alignItems: \"center\",\n        backgroundColor: \"rgba(252, 253, 255, 0.9)\",\n        borderBottom: \"1px solid rgba(15, 23, 42, 0.08)\",\n        backdropFilter: \"blur(16px)\",\n        WebkitBackdropFilter: \"blur(16px)\",\n        boxShadow: \"0 12px 28px rgba(15, 23, 42, 0.06)\",\n        width: \"100%\",\n      },\n      inner: {\n        width: \"100%\",\n        maxWidth: 1200,\n        margin: \"0 auto\",\n        padding: \"0 24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 20,\n      },\n      nav: {\n        marginLeft: \"auto\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 12,\n      },\n      navLink: {\n        ...baseNavLink,\n        color: \"#1f2937\",\n      },\n      primary: {\n        ...baseNavLink,\n        color: \"#fff\",\n        background: \"linear-gradient(135deg, #1d4ed8, #2563eb)\",\n        border: \"1px solid rgba(37, 99, 235, 0.4)\",\n        boxShadow: \"0 10px 26px rgba(37, 99, 235, 0.22)\",\n      },\n      subtle: {\n        ...baseNavLink,\n        color: \"#1d4ed8\",\n        backgroundColor: \"rgba(37, 99, 235, 0.12)\",\n        border: \"1px solid rgba(37, 99, 235, 0.2)\",\n      },\n      logo: {\n        height: 40,\n      },\n      tagline: {\n        fontSize: 12,\n        color: \"#475569\",\n        letterSpacing: \"0.08em\",\n        textTransform: \"uppercase\",\n      },\n    } as const;\n  }, [variant]);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setIsInitialized(true), 600);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const scrollElement = scrollContainerRef?.current || window;\n\n    const handleScroll = () => {\n      if (!isInitialized) return;\n\n      const currentScrollY =\n        scrollElement === window\n          ? window.scrollY\n          : (scrollElement as HTMLDivElement).scrollTop ?? 0;\n\n      const newVisibility = currentScrollY < lastScrollY || currentScrollY <= 12;\n      if (newVisibility !== isVisible) {\n        setIsVisible(newVisibility);\n      }\n\n      setLastScrollY(currentScrollY);\n    };\n\n    scrollElement.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => {\n      scrollElement.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [isInitialized, scrollContainerRef, isVisible, lastScrollY]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/login\").catch(() => {});\n  };\n\n  const wrapperStyle: CSSProperties = {\n    height: isVisible ? theme.height : 0,\n    overflow: \"hidden\",\n    opacity: isVisible ? 1 : 0,\n    position: \"relative\",\n    zIndex: 30,\n    ...theme.wrapper,\n  };\n\n  return (\n    <div style={wrapperStyle}>\n      <header style={theme.container as CSSProperties}>\n        <div style={theme.inner as CSSProperties}>\n          <Link\n            href=\"/\"\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 12,\n              textDecoration: \"none\",\n            }}\n          >\n            <img\n              src=\"/Logo.png\"\n              alt=\"Finance CV\"\n              style={{\n                height: theme.logo.height,\n                width: \"auto\",\n                objectFit: \"contain\",\n                filter: variant === \"landing\" ? \"drop-shadow(0 10px 30px rgba(0,0,0,0.45))\" : \"none\",\n              }}\n            />\n            {theme.tagline && (\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <span\n                  style={{\n                    fontSize: 16,\n                    fontWeight: 700,\n                    color: \"#0f172a\",\n                    letterSpacing: \"-0.01em\",\n                    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                  }}\n                >\n                  Finance CV\n                </span>\n                <span\n                  style={{\n                    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                    ...theme.tagline,\n                  }}\n                >\n                  Atelier de CV premium\n                </span>\n              </div>\n            )}\n          </Link>\n\n          <div style={theme.nav as CSSProperties}>\n            {rightActions ?? (\n              <>\n                <Link href=\"/cv\" style={theme.navLink as CSSProperties}>\n                  Générateur\n                </Link>\n                <Link href=\"/mes-cv\" style={theme.navLink as CSSProperties}>\n                  Mes CV\n                </Link>\n                <Link href=\"/a-propos\" style={theme.navLink as CSSProperties}>\n                  À propos\n                </Link>\n                <Link href=\"/cv\" style={theme.primary as CSSProperties}>\n                  Créer un CV\n                </Link>\n                {session?.user ? (\n                  <button\n                    type=\"button\"\n                    onClick={handleLogout}\n                    style={{\n                      ...theme.subtle,\n                      cursor: \"pointer\",\n                      border: \"none\",\n                      background: variant === \"landing\" ? \"rgba(15,15,40,0.35)\" : theme.subtle.backgroundColor,\n                      color: variant === \"landing\" ? \"#e2e8f0\" : (theme.subtle as CSSProperties).color,\n                    }}\n                  >\n                    Se déconnecter\n                  </button>\n                ) : (\n                  <Link href=\"/login\" style={theme.subtle as CSSProperties}>\n                    Se connecter\n                  </Link>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </header>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/finance-type/my-cv-app/pages/login.tsx"],"sourcesContent":["import { FormEvent, useEffect, useMemo, useState, type CSSProperties } from 'react'\nimport Link from 'next/link'\nimport Head from 'next/head'\nimport { useRouter } from 'next/router'\nimport { useSession, useSupabaseClient } from '@supabase/auth-helpers-react'\nimport { createPagesServerClient } from '@supabase/auth-helpers-nextjs'\nimport type { GetServerSidePropsContext } from 'next'\nimport type { Session } from '@supabase/supabase-js'\nimport DynamicHeader from '../components/DynamicHeader'\n\nconst pageWrapperStyle: CSSProperties = {\n  minHeight: '100vh',\n  background: 'radial-gradient(circle at top, rgba(59,130,246,0.12), transparent 55%), rgba(2, 6, 23, 0.96)',\n  display: 'flex',\n  flexDirection: 'column',\n}\n\nconst formContainerStyle: CSSProperties = {\n  flex: '1 1 auto',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  padding: '40px 16px',\n}\n\nconst cardStyle: CSSProperties = {\n  width: '100%',\n  maxWidth: '420px',\n  background: 'rgba(15, 23, 42, 0.96)',\n  border: '1px solid rgba(148, 163, 184, 0.25)',\n  borderRadius: '18px',\n  padding: '32px',\n  boxShadow: '0 30px 60px rgba(15, 23, 42, 0.35)',\n  color: '#e2e8f0',\n  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n}\n\nconst inputStyle: CSSProperties = {\n  width: '100%',\n  padding: '14px 16px',\n  borderRadius: '12px',\n  border: '1px solid rgba(148, 163, 184, 0.35)',\n  marginBottom: '18px',\n  fontSize: '15px',\n  background: 'rgba(15, 23, 42, 0.65)',\n  color: '#f8fafc',\n}\n\nconst buttonStyle: CSSProperties = {\n  width: '100%',\n  padding: '14px',\n  borderRadius: '12px',\n  border: 'none',\n  background: 'linear-gradient(135deg, #3b82f6, #1d4ed8)',\n  color: '#fff',\n  fontWeight: 700,\n  fontSize: '15px',\n  cursor: 'pointer',\n  marginTop: '8px',\n  transition: 'all 0.2s ease',\n}\n\nconst secondaryButtonStyle: CSSProperties = {\n  width: '100%',\n  padding: '12px',\n  borderRadius: '12px',\n  border: '1px solid rgba(148, 163, 184, 0.45)',\n  background: 'transparent',\n  color: '#cbd5f5',\n  fontWeight: 600,\n  fontSize: '14px',\n  cursor: 'pointer',\n  marginTop: '12px',\n}\n\ntype AuthMode = 'signin' | 'signup'\n\ntype AuthErrors = {\n  email?: string\n  password?: string\n  confirmPassword?: string\n  general?: string\n}\n\nconst validateEmail = (value: string) => /\\S+@\\S+\\.\\S+/.test(value)\n\ninterface LoginPageProps {\n  initialSession?: Session | null\n}\n\nexport default function LoginPage({ initialSession }: LoginPageProps) {\n  const supabase = useSupabaseClient()\n  const router = useRouter()\n  const session = useSession() ?? initialSession ?? null\n  const [mode, setMode] = useState<AuthMode>('signin')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [formErrors, setFormErrors] = useState<AuthErrors>({})\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [flashMessage, setFlashMessage] = useState<string | null>(null)\n\n  const redirectPath = useMemo(() => {\n    const redirectParam = router.query.redirect\n    if (Array.isArray(redirectParam)) {\n      return redirectParam[0] ?? '/cv'\n    }\n    return redirectParam ?? '/cv'\n  }, [router.query.redirect])\n\n  useEffect(() => {\n    if (session?.user) {\n      router.replace(typeof redirectPath === 'string' ? redirectPath : '/cv').catch(() => {})\n    }\n  }, [redirectPath, router, session])\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    const nextErrors: AuthErrors = {}\n\n    if (!validateEmail(email)) {\n      nextErrors.email = 'Merci de saisir une adresse e-mail valide.'\n    }\n\n    if (password.length < 8) {\n      nextErrors.password = 'Le mot de passe doit contenir au moins 8 caractères.'\n    }\n\n    if (mode === 'signup' && password !== confirmPassword) {\n      nextErrors.confirmPassword = 'Les mots de passe ne correspondent pas.'\n    }\n\n    if (Object.keys(nextErrors).length > 0) {\n      setFormErrors(nextErrors)\n      return\n    }\n\n    setFormErrors({})\n    setIsSubmitting(true)\n    setFlashMessage(null)\n\n    try {\n      if (mode === 'signin') {\n        const { error } = await supabase.auth.signInWithPassword({ email, password })\n        if (error) {\n          throw error\n        }\n        await router.replace(typeof redirectPath === 'string' ? redirectPath : '/cv')\n      } else {\n        const origin = typeof window !== 'undefined' ? window?.location?.origin : process.env.NEXT_PUBLIC_SITE_URL\n        const emailRedirectTo = origin ? `${origin}/api/auth/callback` : undefined\n        const { error } = await supabase.auth.signUp({\n          email,\n          password,\n          options: {\n            emailRedirectTo,\n          },\n        })\n        if (error) {\n          throw error\n        }\n        setFlashMessage(\"Compte créé ! Vérifiez votre boîte mail pour confirmer votre adresse.\")\n        setMode('signin')\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        setFormErrors({ general: error.message })\n      } else {\n        setFormErrors({ general: 'Une erreur inattendue est survenue. Réessayez plus tard.' })\n      }\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleResetPassword = async () => {\n    if (!validateEmail(email)) {\n      setFormErrors({ email: 'Saisissez une adresse e-mail valide pour réinitialiser le mot de passe.' })\n      return\n    }\n\n    try {\n      const origin = typeof window !== 'undefined' ? window.location.origin : process.env.NEXT_PUBLIC_SITE_URL\n      const redirectTo = origin ? `${origin}/reset-password` : undefined\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo,\n      })\n      if (error) {\n        throw error\n      }\n      setFlashMessage('Email de réinitialisation envoyé ! Consultez votre boîte de réception.')\n    } catch (error) {\n      if (error instanceof Error) {\n        setFormErrors({ general: error.message })\n      }\n    }\n  }\n\n  const toggleMode = () => {\n    setMode((prev) => (prev === 'signin' ? 'signup' : 'signin'))\n    setFormErrors({})\n    setFlashMessage(null)\n  }\n\n  return (\n    <div style={pageWrapperStyle}>\n      <Head>\n        <title>{mode === 'signin' ? 'Connexion' : 'Inscription'} | Finance CV</title>\n      </Head>\n      <DynamicHeader />\n      <main style={formContainerStyle}>\n        <div style={cardStyle}>\n        <div style={{ marginBottom: '24px', textAlign: 'center' }}>\n          <Link href=\"/\">\n            <img\n              src=\"/Logo.png\"\n              alt=\"Finance CV\"\n              style={{ height: '120px', objectFit: 'contain' }}\n            />\n          </Link>\n          <h1 style={{ fontSize: '24px', marginTop: '8px', marginBottom: '8px', fontWeight: 700 }}>\n            {mode === 'signin' ? 'Connexion' : 'Créer un compte'}\n          </h1>\n          <p style={{ color: '#94a3b8', fontSize: '14px' }}>\n            Accédez à votre générateur de CV personnalisé.\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} noValidate>\n          <label style={{ fontSize: '13px', fontWeight: 600, marginBottom: '6px', display: 'block' }}>\n            Adresse e-mail\n          </label>\n          <input\n            style={inputStyle}\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n            type=\"email\"\n            placeholder=\"prenom.nom@entreprise.com\"\n            autoComplete=\"email\"\n          />\n          {formErrors.email && (\n            <p style={{ color: '#f87171', fontSize: '13px', marginTop: '-12px', marginBottom: '12px' }}>\n              {formErrors.email}\n            </p>\n          )}\n\n          <label style={{ fontSize: '13px', fontWeight: 600, marginBottom: '6px', display: 'block' }}>\n            Mot de passe\n          </label>\n          <input\n            style={inputStyle}\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}\n            type=\"password\"\n            placeholder=\"Au moins 8 caractères\"\n            autoComplete={mode === 'signin' ? 'current-password' : 'new-password'}\n            minLength={8}\n          />\n          {formErrors.password && (\n            <p style={{ color: '#f87171', fontSize: '13px', marginTop: '-12px', marginBottom: '12px' }}>\n              {formErrors.password}\n            </p>\n          )}\n\n          {mode === 'signup' && (\n            <>\n              <label style={{ fontSize: '13px', fontWeight: 600, marginBottom: '6px', display: 'block' }}>\n                Confirmer le mot de passe\n              </label>\n              <input\n                style={inputStyle}\n                value={confirmPassword}\n                onChange={(event) => setConfirmPassword(event.target.value)}\n                type=\"password\"\n                placeholder=\"Retapez votre mot de passe\"\n                autoComplete=\"new-password\"\n                minLength={8}\n              />\n              {formErrors.confirmPassword && (\n                <p style={{ color: '#f87171', fontSize: '13px', marginTop: '-12px', marginBottom: '12px' }}>\n                  {formErrors.confirmPassword}\n                </p>\n              )}\n            </>\n          )}\n\n          {formErrors.general && (\n            <p style={{ color: '#f87171', fontSize: '13px', marginBottom: '12px' }}>\n              {formErrors.general}\n            </p>\n          )}\n\n          {flashMessage && (\n            <p style={{ color: '#34d399', fontSize: '13px', marginBottom: '12px' }}>\n              {flashMessage}\n            </p>\n          )}\n\n          <button type=\"submit\" style={buttonStyle} disabled={isSubmitting}>\n            {isSubmitting ? 'Patientez…' : mode === 'signin' ? 'Se connecter' : 'Créer mon compte'}\n          </button>\n        </form>\n\n        {mode === 'signin' && (\n          <button type=\"button\" style={secondaryButtonStyle} onClick={handleResetPassword}>\n            Mot de passe oublié ?\n          </button>\n        )}\n\n        <div style={{ textAlign: 'center', marginTop: '18px', fontSize: '14px', color: '#cbd5f5' }}>\n          {mode === 'signin' ? (\n            <>\n              Pas encore de compte ?{' '}\n              <button type=\"button\" onClick={toggleMode} style={{ ...secondaryButtonStyle, width: 'auto', display: 'inline-block', marginTop: 0 }}>\n                S&apos;inscrire gratuitement\n              </button>\n            </>\n          ) : (\n            <>\n              Déjà membre ?{' '}\n              <button type=\"button\" onClick={toggleMode} style={{ ...secondaryButtonStyle, width: 'auto', display: 'inline-block', marginTop: 0 }}>\n                Se connecter\n              </button>\n            </>\n          )}\n        </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport async function getServerSideProps(context: GetServerSidePropsContext) {\n  const supabase = createPagesServerClient(context)\n  const {\n    data: { session },\n  } = await supabase.auth.getSession()\n\n  if (session?.user) {\n    const redirectParam = context.query.redirect\n    const destination = Array.isArray(redirectParam) ? redirectParam[0] ?? '/cv' : redirectParam ?? '/cv'\n\n    return {\n      redirect: {\n        destination,\n        permanent: false,\n      },\n    }\n  }\n\n  return {\n    props: {\n      initialSession: session,\n    },\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}