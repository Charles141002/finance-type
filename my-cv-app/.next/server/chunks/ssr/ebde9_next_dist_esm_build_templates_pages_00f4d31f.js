module.exports=[3040,a=>{"use strict";a.s(["config",()=>u,"default",()=>q,"getServerSideProps",()=>t,"getStaticPaths",()=>s,"getStaticProps",()=>r,"handler",()=>C,"reportWebVitals",()=>v,"routeModule",()=>B,"unstable_getServerProps",()=>z,"unstable_getServerSideProps",()=>A,"unstable_getStaticParams",()=>y,"unstable_getStaticPaths",()=>x,"unstable_getStaticProps",()=>w],3040);var b=a.i(7174),c=a.i(440),d=a.i(382),e=a.i(1553),f=a.i(3859);a.s(["default",()=>m,"getServerSideProps",()=>n],3828);var g=a.i(8171),h=a.i(7669),i=a.i(5749),j=a.i(8918),k=a.i(9652),l=a.i(1965);function m(){let a=(0,k.useSupabaseClient)(),b=(0,j.useRouter)(),c=(0,k.useSession)(),[d,e]=(0,h.useState)(""),[f,l]=(0,h.useState)(""),[m,n]=(0,h.useState)(null),[o,p]=(0,h.useState)(null),[q,r]=(0,h.useState)(!1),s=async c=>{if(c.preventDefault(),d.length<8)return void n("Le mot de passe doit contenir au moins 8 caractères.");if(d!==f)return void n("Les mots de passe ne correspondent pas.");n(null),r(!0);try{let{error:c}=await a.auth.updateUser({password:d});if(c)throw c;p("Mot de passe mis à jour avec succès. Vous allez être redirigé."),setTimeout(()=>{b.push("/login").catch(()=>{})},1500)}catch(a){a instanceof Error?n(a.message):n("Impossible de mettre à jour le mot de passe. Veuillez réessayer.")}finally{r(!1)}};return(0,g.jsxs)("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(2,6,23,0.96)"},children:[(0,g.jsx)(i.default,{children:(0,g.jsx)("title",{children:"Réinitialiser le mot de passe | Finance CV"})}),(0,g.jsxs)("div",{style:{width:"100%",maxWidth:"420px",background:"rgba(15, 23, 42, 0.96)",padding:"32px",borderRadius:"18px",border:"1px solid rgba(148, 163, 184, 0.25)",boxShadow:"0 30px 60px rgba(15, 23, 42, 0.35)",color:"#e2e8f0",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif"},children:[(0,g.jsx)("h1",{style:{fontSize:"24px",fontWeight:700,marginBottom:"12px"},children:"Définir un nouveau mot de passe"}),(0,g.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",marginBottom:"24px"},children:"Choisissez un mot de passe robuste pour sécuriser votre compte."}),!c&&(0,g.jsx)("p",{style:{color:"#f87171",fontSize:"13px",marginBottom:"12px"},children:"Le lien n'est plus valide ou a déjà été utilisé. Demandez un nouvel e-mail de réinitialisation."}),(0,g.jsxs)("form",{onSubmit:s,children:[(0,g.jsx)("label",{style:{fontSize:"13px",fontWeight:600,marginBottom:"6px",display:"block"},children:"Nouveau mot de passe"}),(0,g.jsx)("input",{type:"password",value:d,onChange:a=>e(a.target.value),minLength:8,autoComplete:"new-password",style:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.35)",marginBottom:"18px",background:"rgba(15, 23, 42, 0.65)",color:"#f8fafc"}}),(0,g.jsx)("label",{style:{fontSize:"13px",fontWeight:600,marginBottom:"6px",display:"block"},children:"Confirmer le mot de passe"}),(0,g.jsx)("input",{type:"password",value:f,onChange:a=>l(a.target.value),minLength:8,autoComplete:"new-password",style:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.35)",marginBottom:"18px",background:"rgba(15, 23, 42, 0.65)",color:"#f8fafc"}}),m&&(0,g.jsx)("p",{style:{color:"#f87171",fontSize:"13px",marginBottom:"12px"},children:m}),o&&(0,g.jsx)("p",{style:{color:"#34d399",fontSize:"13px",marginBottom:"12px"},children:o}),(0,g.jsx)("button",{type:"submit",disabled:q||!c,style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",color:"#fff",fontWeight:700,fontSize:"15px",cursor:"pointer",opacity:c?1:.5},children:q?"Patientez…":"Enregistrer le nouveau mot de passe"})]})]})]})}async function n(a){let b=(0,l.createPagesServerClient)(a),{data:{session:c}}=await b.auth.getSession();return{props:{initialSession:c}}}var o=a.i(3828),p=a.i(7987);let q=(0,d.hoist)(o,"default"),r=(0,d.hoist)(o,"getStaticProps"),s=(0,d.hoist)(o,"getStaticPaths"),t=(0,d.hoist)(o,"getServerSideProps"),u=(0,d.hoist)(o,"config"),v=(0,d.hoist)(o,"reportWebVitals"),w=(0,d.hoist)(o,"unstable_getStaticProps"),x=(0,d.hoist)(o,"unstable_getStaticPaths"),y=(0,d.hoist)(o,"unstable_getStaticParams"),z=(0,d.hoist)(o,"unstable_getServerProps"),A=(0,d.hoist)(o,"unstable_getServerSideProps"),B=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/reset-password",pathname:"/reset-password",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:o}),C=(0,p.getHandler)({srcPage:"/reset-password",config:u,userland:o,routeModule:B,getStaticPaths:s,getStaticProps:r,getServerSideProps:t})}];

//# sourceMappingURL=ebde9_next_dist_esm_build_templates_pages_00f4d31f.js.map