{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/utils/types.ts"],"sourcesContent":["export type BlockType =\r\n  | \"header\"\r\n  | \"subsection\"\r\n  | \"section\"\r\n  | \"text\"\r\n  | \"contact\"\r\n  | \"divider\";\r\n\r\nexport interface Block {\r\n  id: string;\r\n  type: BlockType;\r\n  content?: any;\r\n  children?: Block[];\r\n  style?: {\r\n    size?: \"small\" | \"medium\" | \"large\";\r\n    align?: \"left\" | \"center\" | \"right\";\r\n    italic?: boolean;\r\n  };\r\n}\r\n\r\nexport interface DragContext {\r\n  source: {\r\n    blockId: string;\r\n    parentId?: string;\r\n    blockType: BlockType;\r\n    index: number;\r\n  };\r\n  destination: {\r\n    parentId?: string;\r\n    index: number;\r\n  };\r\n}\r\n\r\nexport interface DropConstraints {\r\n  canMoveTo: (context: DragContext) => boolean;\r\n}\r\n\r\nexport const dropConstraints: Record<BlockType, DropConstraints> = {\r\n  // En-tête : peut être déplacé n'importe où au niveau racine ou entre autres blocs racine\r\n  header: {\r\n    canMoveTo: (context) => !context.destination.parentId\r\n  },\r\n  \r\n  // Contacts : peut être déplacé n'importe où au niveau racine ou entre autres blocs racine\r\n  contact: {\r\n    canMoveTo: (context) => !context.destination.parentId\r\n  },\r\n  \r\n  // Séparateur : peut être déplacé n'importe où au niveau racine ou entre autres blocs racine\r\n  divider: {\r\n    canMoveTo: (context) => !context.destination.parentId\r\n  },\r\n  \r\n  // Section : peut être déplacé n'importe où au niveau racine\r\n  section: {\r\n    canMoveTo: (context) => !context.destination.parentId\r\n  },\r\n  \r\n  // Sous-section : doit toujours être dans une section\r\n  subsection: {\r\n    canMoveTo: (context) => {\r\n      // Vérifier si la destination est dans une section\r\n      if (!context.destination.parentId) return false;\r\n      \r\n      // Trouver le bloc parent de destination\r\n      const isInSection = (blocks: Block[], parentId: string): boolean => {\r\n        const parentBlock = blocks.find(b => b.id === parentId);\r\n        if (!parentBlock) return false;\r\n        if (parentBlock.type === \"section\") return true;\r\n        if (parentBlock.children) {\r\n          return parentBlock.children.some(child => isInSection([child], parentId));\r\n        }\r\n        return false;\r\n      };\r\n      \r\n      return true; // TODO: Implémenter la vérification réelle\r\n    }\r\n  },\r\n  \r\n  // Texte : peut être déplacé n'importe où\r\n  text: {\r\n    canMoveTo: () => true\r\n  }\r\n};\r\n\r\nexport const canMoveBlock = (context: DragContext, allBlocks: Block[]): boolean => {\r\n  // Tous les blocs peuvent être déplacés n'importe où - aucune restriction\r\n  return true;\r\n};\r\n\r\nexport const findBlockById = (blocks: Block[], id: string): Block | undefined => {\r\n  for (const block of blocks) {\r\n    if (block.id === id) return block;\r\n    if (block.children) {\r\n      const found = findBlockById(block.children, id);\r\n      if (found) return found;\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const getAllChildBlocks = (block: Block): Block[] => {\r\n  const children: Block[] = [];\r\n  if (block.children) {\r\n    for (const child of block.children) {\r\n      children.push(child, ...getAllChildBlocks(child));\r\n    }\r\n  }\r\n  return children;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAqCO,MAAM,kBAAsD;IACjE,yFAAyF;IACzF,QAAQ;QACN,WAAW,CAAC,UAAY,CAAC,QAAQ,WAAW,CAAC,QAAQ;IACvD;IAEA,0FAA0F;IAC1F,SAAS;QACP,WAAW,CAAC,UAAY,CAAC,QAAQ,WAAW,CAAC,QAAQ;IACvD;IAEA,4FAA4F;IAC5F,SAAS;QACP,WAAW,CAAC,UAAY,CAAC,QAAQ,WAAW,CAAC,QAAQ;IACvD;IAEA,4DAA4D;IAC5D,SAAS;QACP,WAAW,CAAC,UAAY,CAAC,QAAQ,WAAW,CAAC,QAAQ;IACvD;IAEA,qDAAqD;IACrD,YAAY;QACV,WAAW,CAAC;YACV,kDAAkD;YAClD,IAAI,CAAC,QAAQ,WAAW,CAAC,QAAQ,EAAE,OAAO;YAE1C,wCAAwC;YACxC,MAAM,cAAc,CAAC,QAAiB;gBACpC,MAAM,cAAc,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAC9C,IAAI,CAAC,aAAa,OAAO;gBACzB,IAAI,YAAY,IAAI,KAAK,WAAW,OAAO;gBAC3C,IAAI,YAAY,QAAQ,EAAE;oBACxB,OAAO,YAAY,QAAQ,CAAC,IAAI,CAAC,CAAA,QAAS,YAAY;4BAAC;yBAAM,EAAE;gBACjE;gBACA,OAAO;YACT;YAEA,OAAO,MAAM,2CAA2C;QAC1D;IACF;IAEA,yCAAyC;IACzC,MAAM;QACJ,WAAW,IAAM;IACnB;AACF;AAEO,MAAM,eAAe,CAAC,SAAsB;IACjD,yEAAyE;IACzE,OAAO;AACT;AAEO,MAAM,gBAAgB,CAAC,QAAiB;IAC7C,KAAK,MAAM,SAAS,OAAQ;QAC1B,IAAI,MAAM,EAAE,KAAK,IAAI,OAAO;QAC5B,IAAI,MAAM,QAAQ,EAAE;YAClB,MAAM,QAAQ,cAAc,MAAM,QAAQ,EAAE;YAC5C,IAAI,OAAO,OAAO;QACpB;IACF;IACA,OAAO;AACT;AAEO,MAAM,oBAAoB,CAAC;IAChC,MAAM,WAAoB,EAAE;IAC5B,IAAI,MAAM,QAAQ,EAAE;QAClB,KAAK,MAAM,SAAS,MAAM,QAAQ,CAAE;YAClC,SAAS,IAAI,CAAC,UAAU,kBAAkB;QAC5C;IACF;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/components/BlockEditor.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable, DropResult } from \"@hello-pangea/dnd\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { Block, BlockType, DragContext, canMoveBlock, findBlockById, getAllChildBlocks } from \"../utils/types\";\r\n\r\ninterface Props {\r\n  blocks: Block[];\r\n  setBlocks: (blocks: Block[]) => void;\r\n}\r\n\r\nconst BlockEditor = ({ blocks, setBlocks }: Props) => {\r\n  const [newBlockType, setNewBlockType] = useState<BlockType>(\"text\");\r\n  const [subBlockTypes, setSubBlockTypes] = useState<Record<string, BlockType>>({});\r\n\r\n  // -------------------\r\n  // Ajouter un bloc\r\n  // -------------------\r\n  const handleAddBlock = (parentId?: string) => {\r\n    const typeToUse = parentId ? (subBlockTypes[parentId] || \"text\") : newBlockType;\r\n    const newBlock: Block = {\r\n      id: uuid(),\r\n      type: typeToUse,\r\n      content:\r\n        typeToUse === \"contact\"\r\n          ? { email: \"\", phone: \"\", address: \"\", linkedin: \"\" }\r\n          : \"\",\r\n      children: [],\r\n    };\r\n\r\n    if (!parentId) {\r\n      setBlocks([...blocks, newBlock]);\r\n    } else {\r\n      setBlocks(addChildRecursive(blocks, parentId, newBlock));\r\n    }\r\n  };\r\n\r\n  const addChildRecursive = (blocks: Block[], parentId: string, child: Block): Block[] =>\r\n    blocks.map((b) =>\r\n      b.id === parentId\r\n        ? { ...b, children: [...(b.children || []), child] }\r\n        : { ...b, children: b.children ? addChildRecursive(b.children, parentId, child) : [] }\r\n    );\r\n\r\n  // -------------------\r\n  // Supprimer un bloc\r\n  // -------------------\r\n  const deleteBlockRecursive = (blocks: Block[], id: string): Block[] =>\r\n    blocks\r\n      .filter((b) => b.id !== id)\r\n      .map((b) => ({\r\n        ...b,\r\n        children: b.children ? deleteBlockRecursive(b.children, id) : [],\r\n      }));\r\n\r\n  const handleDeleteBlock = (id: string) => setBlocks(deleteBlockRecursive(blocks, id));\r\n\r\n  // -------------------\r\n  // Mise à jour du contenu\r\n  // -------------------\r\n  const updateBlockContentRecursive = (blocks: Block[], id: string, content: any): Block[] =>\r\n    blocks.map((b) =>\r\n      b.id === id\r\n        ? { ...b, content }\r\n        : { ...b, children: b.children ? updateBlockContentRecursive(b.children, id, content) : [] }\r\n    );\r\n\r\n  const updateBlockContent = (id: string, content: any) => {\r\n    setBlocks(updateBlockContentRecursive(blocks, id, content));\r\n  };\r\n\r\n  // -------------------\r\n  // Drag & Drop avec règles\r\n  // -------------------\r\n  const handleDragEnd = (result: DropResult) => {\r\n    if (!result.destination) return;\r\n\r\n    const { source, destination } = result;\r\n    \r\n    // Trouver le bloc source\r\n    let sourceBlock: Block | undefined;\r\n    if (source.droppableId === \"root\") {\r\n      sourceBlock = blocks[source.index];\r\n    } else {\r\n      const parentBlock = findBlockById(blocks, source.droppableId);\r\n      if (parentBlock && parentBlock.children) {\r\n        sourceBlock = parentBlock.children[source.index];\r\n      }\r\n    }\r\n    \r\n    if (!sourceBlock) return;\r\n    \r\n    // Trouver le parent de destination\r\n    const destinationParent = destination.droppableId !== \"root\" ? findBlockById(blocks, destination.droppableId) : undefined;\r\n    \r\n    // Créer le contexte de déplacement\r\n    const dragContext: DragContext = {\r\n      source: {\r\n        blockId: sourceBlock.id,\r\n        parentId: source.droppableId !== \"root\" ? source.droppableId : undefined,\r\n        blockType: sourceBlock.type,\r\n        index: source.index\r\n      },\r\n      destination: {\r\n        parentId: destination.droppableId !== \"root\" ? destination.droppableId : undefined,\r\n        index: destination.index\r\n      }\r\n    };\r\n\r\n    // Tous les déplacements sont autorisés - aucune restriction\r\n\r\n    // Effectuer le déplacement selon les règles\r\n    setBlocks(moveBlockWithRules(blocks, result));\r\n  };\r\n\r\n  // Fonction pour déplacer un bloc en respectant les règles\r\n  const moveBlockWithRules = (blocks: Block[], result: DropResult): Block[] => {\r\n    const { source, destination } = result;\r\n    \r\n    if (!destination) return blocks;\r\n    \r\n    // Si c'est un déplacement au niveau racine\r\n    if (source.droppableId === \"root\" && destination.droppableId === \"root\") {\r\n      return moveBlockAtRoot(blocks, source.index, destination.index);\r\n    }\r\n    \r\n    // Si c'est un déplacement dans le même conteneur\r\n    if (source.droppableId === destination.droppableId) {\r\n      return moveBlockInContainer(blocks, source.droppableId, source.index, destination.index);\r\n    }\r\n    \r\n    // Si c'est un déplacement entre conteneurs\r\n    return moveBlockBetweenContainers(blocks, source, destination);\r\n  };\r\n\r\n  // Déplacer un bloc au niveau racine\r\n  const moveBlockAtRoot = (blocks: Block[], sourceIndex: number, destIndex: number): Block[] => {\r\n    const newBlocks = [...blocks];\r\n    const [movedBlock] = newBlocks.splice(sourceIndex, 1);\r\n    newBlocks.splice(destIndex, 0, movedBlock);\r\n    return newBlocks;\r\n  };\r\n\r\n  // Déplacer un bloc dans le même conteneur\r\n  const moveBlockInContainer = (blocks: Block[], containerId: string, sourceIndex: number, destIndex: number): Block[] => {\r\n    if (containerId === \"root\") {\r\n      return moveBlockAtRoot(blocks, sourceIndex, destIndex);\r\n    }\r\n    \r\n    return blocks.map(block => {\r\n      if (block.id === containerId && block.children) {\r\n        const newChildren = [...block.children];\r\n        const [movedChild] = newChildren.splice(sourceIndex, 1);\r\n        newChildren.splice(destIndex, 0, movedChild);\r\n        return { ...block, children: newChildren };\r\n      }\r\n      if (block.children) {\r\n        return { ...block, children: moveBlockInContainer(block.children, containerId, sourceIndex, destIndex) };\r\n      }\r\n      return block;\r\n    });\r\n  };\r\n\r\n  // Déplacer un bloc entre conteneurs\r\n  const moveBlockBetweenContainers = (blocks: Block[], source: any, destination: any): Block[] => {\r\n    // Trouver le bloc à déplacer\r\n    let blockToMove: Block | undefined;\r\n    \r\n    if (source.droppableId === \"root\") {\r\n      blockToMove = blocks[source.index];\r\n    } else {\r\n      const sourceBlock = findBlockById(blocks, source.droppableId);\r\n      if (sourceBlock && sourceBlock.children) {\r\n        blockToMove = sourceBlock.children[source.index];\r\n      }\r\n    }\r\n    \r\n    if (!blockToMove) return blocks;\r\n    \r\n    // Supprimer le bloc de la source\r\n    const blocksWithoutSource = removeBlockFromContainer(blocks, source.droppableId, source.index);\r\n    \r\n    // Ajouter le bloc à la destination\r\n    return addBlockToContainer(blocksWithoutSource, destination.droppableId, destination.index, blockToMove);\r\n  };\r\n\r\n  // Supprimer un bloc d'un conteneur\r\n  const removeBlockFromContainer = (blocks: Block[], containerId: string, index: number): Block[] => {\r\n    if (containerId === \"root\") {\r\n      return blocks.filter((_, i) => i !== index);\r\n    }\r\n    \r\n    return blocks.map(block => {\r\n      if (block.id === containerId && block.children) {\r\n        const newChildren = block.children.filter((_, i) => i !== index);\r\n        return { ...block, children: newChildren };\r\n      }\r\n      if (block.children) {\r\n        return { ...block, children: removeBlockFromContainer(block.children, containerId, index) };\r\n      }\r\n      return block;\r\n    });\r\n  };\r\n\r\n  // Ajouter un bloc à un conteneur\r\n  const addBlockToContainer = (blocks: Block[], containerId: string, index: number, blockToAdd: Block): Block[] => {\r\n    if (containerId === \"root\") {\r\n      const newBlocks = [...blocks];\r\n      newBlocks.splice(index, 0, blockToAdd);\r\n      return newBlocks;\r\n    }\r\n    \r\n    return blocks.map(block => {\r\n      if (block.id === containerId) {\r\n        const newChildren = [...(block.children || [])];\r\n        newChildren.splice(index, 0, blockToAdd);\r\n        return { ...block, children: newChildren };\r\n      }\r\n      if (block.children) {\r\n        return { ...block, children: addBlockToContainer(block.children, containerId, index, blockToAdd) };\r\n      }\r\n      return block;\r\n    });\r\n  };\r\n\r\n  // -------------------\r\n  // Rendu d'un bloc (sans Draggable, géré par le parent)\r\n  // -------------------\r\n  const renderBlock = (block: Block, parentId?: string, handleProps?: any) => {\r\n    const canHaveChildren = block.type === \"section\" || block.type === \"subsection\";\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          border: \"1px solid #e1e5e9\",\r\n          borderRadius: \"8px\",\r\n          padding: \"12px\",\r\n          marginBottom: \"8px\",\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\r\n          transition: \"all 0.2s ease\",\r\n        }}\r\n      >\r\n        {/* Header du bloc (le handle est fourni par le parent Draggable) */}\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"8px\" }}>\r\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n            <div\r\n              {...handleProps}\r\n              style={{\r\n                cursor: \"grab\",\r\n                padding: \"4px\",\r\n                borderRadius: \"4px\",\r\n                backgroundColor: \"#f5f5f5\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                minWidth: \"20px\",\r\n                height: \"20px\",\r\n              }}\r\n            >\r\n              ⋮⋮\r\n            </div>\r\n            <strong style={{ \r\n              color: block.type === \"header\" ? \"#2563eb\" : \r\n                     block.type === \"section\" ? \"#059669\" :\r\n                     block.type === \"subsection\" ? \"#7c3aed\" : \"#6b7280\"\r\n            }}>\r\n              {block.type.toUpperCase()}\r\n            </strong>\r\n          </div>\r\n          \r\n          <div style={{ display: \"flex\", gap: \"4px\" }}>\r\n            {canHaveChildren && (\r\n              <>\r\n                <select\r\n                  value={subBlockTypes[block.id] || \"text\"}\r\n                  onChange={(e) =>\r\n                    setSubBlockTypes({\r\n                      ...subBlockTypes,\r\n                      [block.id]: e.target.value as BlockType,\r\n                    })\r\n                  }\r\n                  style={{ \r\n                    marginRight: 8, \r\n                    padding: \"4px 8px\",\r\n                    borderRadius: \"4px\",\r\n                    border: \"1px solid #d1d5db\",\r\n                    fontSize: \"12px\"\r\n                  }}\r\n                >\r\n                  <option value=\"text\">Texte</option>\r\n                  <option value=\"subsection\">Sous-section</option>\r\n                </select>\r\n                <button \r\n                  onClick={() => handleAddBlock(block.id)} \r\n                  style={{ \r\n                    marginRight: 8,\r\n                    padding: \"4px 8px\",\r\n                    backgroundColor: \"#3b82f6\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    borderRadius: \"4px\",\r\n                    fontSize: \"12px\",\r\n                    cursor: \"pointer\"\r\n                  }}\r\n                >\r\n                  + sous-bloc\r\n                </button>\r\n              </>\r\n            )}\r\n            <button \r\n              onClick={() => handleDeleteBlock(block.id)} \r\n              style={{ \r\n                color: \"#ef4444\",\r\n                backgroundColor: \"transparent\",\r\n                border: \"none\",\r\n                cursor: \"pointer\",\r\n                padding: \"4px\",\r\n                borderRadius: \"4px\"\r\n              }}\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenu du bloc */}\r\n        <div style={{ marginTop: 8 }}>\r\n          {block.type === \"divider\" ? (\r\n            <hr style={{ border: \"none\", borderTop: \"2px solid #e5e7eb\", margin: \"8px 0\" }} />\r\n          ) : block.type === \"contact\" ? (\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\r\n              <input\r\n                placeholder=\"Email\"\r\n                value={block.content?.email || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, email: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\" }}\r\n              />\r\n              <input\r\n                placeholder=\"Téléphone\"\r\n                value={block.content?.phone || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, phone: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\" }}\r\n              />\r\n              <input\r\n                placeholder=\"Adresse\"\r\n                value={block.content?.address || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, address: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\" }}\r\n              />\r\n              <input\r\n                placeholder=\"LinkedIn\"\r\n                value={block.content?.linkedin || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, linkedin: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\" }}\r\n              />\r\n            </div>\r\n          ) : block.type === \"subsection\" ? (\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\r\n              <input\r\n                placeholder=\"Titre (ex: JCDecaux)\"\r\n                value={block.content?.title || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, title: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\", fontWeight: \"bold\" }}\r\n              />\r\n              <input\r\n                placeholder=\"Sous-titre (ex: Data Scientist)\"\r\n                value={block.content?.subtitle || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, subtitle: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\" }}\r\n              />\r\n              <input\r\n                placeholder=\"Période (ex: 11/2024 -- 05/2025)\"\r\n                value={block.content?.period || \"\"}\r\n                onChange={(e) => updateBlockContent(block.id, { ...block.content, period: e.target.value })}\r\n                style={{ padding: \"8px\", border: \"1px solid #d1d5db\", borderRadius: \"4px\", fontStyle: \"italic\" }}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <textarea\r\n              value={typeof block.content === \"string\" ? block.content : block.content?.title || \"\"}\r\n              onChange={(e) => {\r\n                let newContent = e.target.value;\r\n                if (block.type === \"header\" || block.type === \"section\") {\r\n                  newContent = { ...block.content, title: e.target.value };\r\n                }\r\n                updateBlockContent(block.id, newContent);\r\n              }}\r\n              rows={block.type === \"header\" ? 1 : 3}\r\n              style={{ \r\n                width: \"100%\", \r\n                padding: \"8px\", \r\n                border: \"1px solid #d1d5db\", \r\n                borderRadius: \"4px\",\r\n                fontSize: block.type === \"header\" ? \"18px\" : \"14px\",\r\n                fontWeight: block.type === \"header\" ? \"bold\" : \"normal\"\r\n              }}\r\n              placeholder={block.type === \"header\" ? \"Nom complet\" : \r\n                         block.type === \"section\" ? \"Titre de section\" : \r\n                         \"Contenu du texte...\"}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Zone de drop pour les enfants (toujours visible pour permettre d'y entrer) */}\r\n        {canHaveChildren && (\r\n          <Droppable droppableId={block.id} type=\"CHILD\" renderClone={(provided, snapshot, rubric) => {\r\n            const parent = findBlockById(blocks, block.id);\r\n            const dragged = parent?.children?.[rubric.source.index];\r\n            if (!dragged) return <div />;\r\n            return (\r\n              <div\r\n                ref={provided.innerRef}\r\n                {...provided.draggableProps}\r\n                {...provided.dragHandleProps}\r\n                style={{\r\n                  ...provided.draggableProps.style,\r\n                  pointerEvents: \"none\",\r\n                  userSelect: \"none\",\r\n                  border: \"1px solid #93c5fd\",\r\n                  background: \"#dbeafe\",\r\n                  borderRadius: 8,\r\n                  padding: 8,\r\n                }}\r\n              >\r\n                {dragged.type.toUpperCase()}\r\n              </div>\r\n            );\r\n          }}>\r\n            {(provided, snapshot) => (\r\n              <div\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                style={{\r\n                  marginLeft: 16,\r\n                  marginTop: 12,\r\n                  paddingLeft: 12,\r\n                  borderLeft: \"2px solid #e5e7eb\",\r\n                  backgroundColor: snapshot.isDraggingOver ? \"#f0f9ff\" : \"transparent\",\r\n                  borderRadius: \"4px\",\r\n                  minHeight: \"28px\",\r\n                  transition: \"background-color 0.2s ease\"\r\n                }}\r\n              >\r\n                {block.children?.map((child, index) => (\r\n                  <Draggable key={child.id} draggableId={child.id} index={index}>\r\n                    {(provided) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                      >\r\n                        {renderBlock(child, block.id, provided.dragHandleProps)}\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // -------------------\r\n  // Rendu principal\r\n  // -------------------\r\n  return (\r\n    <div style={{ padding: \"20px\", backgroundColor: \"#f8fafc\" }}>\r\n      {/* Header avec instructions */}\r\n      <div style={{ \r\n        marginBottom: \"24px\", \r\n        padding: \"16px\", \r\n        backgroundColor: \"#fff\", \r\n        borderRadius: \"8px\",\r\n        border: \"1px solid #e1e5e9\"\r\n      }}>\r\n        <h2 style={{ margin: \"0 0 8px 0\", color: \"#1f2937\" }}>Éditeur de CV</h2>\r\n        <p style={{ margin: \"0 0 16px 0\", color: \"#6b7280\", fontSize: \"14px\" }}>\r\n          Glissez-déposez les blocs pour réorganiser votre CV. Les règles de déplacement sont appliquées automatiquement.\r\n        </p>\r\n        \r\n        <div style={{ display: \"flex\", gap: \"12px\", alignItems: \"center\" }}>\r\n          <select \r\n            value={newBlockType} \r\n            onChange={(e) => setNewBlockType(e.target.value as BlockType)}\r\n            style={{\r\n              padding: \"8px 12px\",\r\n              border: \"1px solid #d1d5db\",\r\n              borderRadius: \"6px\",\r\n              backgroundColor: \"#fff\",\r\n              fontSize: \"14px\"\r\n            }}\r\n          >\r\n            <option value=\"header\">En-tête</option>\r\n            <option value=\"contact\">Contact</option>\r\n            <option value=\"section\">Section</option>\r\n            <option value=\"subsection\">Sous-section</option>\r\n            <option value=\"text\">Texte</option>\r\n            <option value=\"divider\">Séparateur</option>\r\n          </select>\r\n          <button \r\n            onClick={() => handleAddBlock()} \r\n            style={{ \r\n              padding: \"8px 16px\",\r\n              backgroundColor: \"#3b82f6\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"6px\",\r\n              cursor: \"pointer\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"500\"\r\n            }}\r\n          >\r\n            + Ajouter bloc\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Zone de drop principale */}\r\n      <DragDropContext onDragEnd={handleDragEnd}>\r\n        <Droppable droppableId=\"root\" type=\"ROOT\" renderClone={(provided, snapshot, rubric) => {\r\n          const dragged = blocks[rubric.source.index];\r\n          return (\r\n            <div\r\n              ref={provided.innerRef}\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              style={{\r\n                ...provided.draggableProps.style,\r\n                pointerEvents: \"none\",\r\n                userSelect: \"none\",\r\n                border: \"1px solid #93c5fd\",\r\n                background: \"#dbeafe\",\r\n                borderRadius: 8,\r\n                padding: 8,\r\n              }}\r\n            >\r\n              {dragged?.type.toUpperCase()}\r\n            </div>\r\n          );\r\n        }}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              ref={provided.innerRef}\r\n              {...provided.droppableProps}\r\n              style={{\r\n                minHeight: \"400px\",\r\n                backgroundColor: snapshot.isDraggingOver ? \"#f0f9ff\" : \"transparent\",\r\n                borderRadius: \"8px\",\r\n                padding: snapshot.isDraggingOver ? \"16px\" : \"0\",\r\n                border: snapshot.isDraggingOver ? \"2px dashed #3b82f6\" : \"none\",\r\n                transition: \"all 0.2s ease\"\r\n              }}\r\n            >\r\n              {blocks.length === 0 ? (\r\n                <div style={{\r\n                  textAlign: \"center\",\r\n                  padding: \"40px\",\r\n                  color: \"#9ca3af\",\r\n                  fontSize: \"16px\"\r\n                }}>\r\n                  Aucun bloc. Ajoutez votre premier bloc pour commencer.\r\n                </div>\r\n              ) : (\r\n                blocks.map((block, index) => (\r\n                  <Draggable key={block.id} draggableId={block.id} index={index}>\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        style={{\r\n                          ...provided.draggableProps.style,\r\n                          opacity: snapshot.isDragging ? 0.8 : 1,\r\n                        }}\r\n                      >\r\n                        {renderBlock(block, undefined, provided.dragHandleProps)}\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))\r\n              )}\r\n              {provided.placeholder}\r\n              \r\n              {snapshot.isDraggingOver && (\r\n                <div style={{\r\n                  textAlign: \"center\",\r\n                  padding: \"20px\",\r\n                  color: \"#3b82f6\",\r\n                  fontSize: \"14px\",\r\n                  fontWeight: \"500\"\r\n                }}>\r\n                  Déposez le bloc ici\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlockEditor;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;AAJA;;;;;;AAWA,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,SAAS,EAAS;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAY;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,+GAAQ,EAA4B,CAAC;IAE/E,sBAAsB;IACtB,kBAAkB;IAClB,sBAAsB;IACtB,MAAM,iBAAiB,CAAC;QACtB,MAAM,YAAY,WAAY,aAAa,CAAC,SAAS,IAAI,SAAU;QACnE,MAAM,WAAkB;YACtB,IAAI,IAAA,8GAAI;YACR,MAAM;YACN,SACE,cAAc,YACV;gBAAE,OAAO;gBAAI,OAAO;gBAAI,SAAS;gBAAI,UAAU;YAAG,IAClD;YACN,UAAU,EAAE;QACd;QAEA,IAAI,CAAC,UAAU;YACb,UAAU;mBAAI;gBAAQ;aAAS;QACjC,OAAO;YACL,UAAU,kBAAkB,QAAQ,UAAU;QAChD;IACF;IAEA,MAAM,oBAAoB,CAAC,QAAiB,UAAkB,QAC5D,OAAO,GAAG,CAAC,CAAC,IACV,EAAE,EAAE,KAAK,WACL;gBAAE,GAAG,CAAC;gBAAE,UAAU;uBAAK,EAAE,QAAQ,IAAI,EAAE;oBAAG;iBAAM;YAAC,IACjD;gBAAE,GAAG,CAAC;gBAAE,UAAU,EAAE,QAAQ,GAAG,kBAAkB,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE;YAAC;IAG3F,sBAAsB;IACtB,oBAAoB;IACpB,sBAAsB;IACtB,MAAM,uBAAuB,CAAC,QAAiB,KAC7C,OACG,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,IACvB,GAAG,CAAC,CAAC,IAAM,CAAC;gBACX,GAAG,CAAC;gBACJ,UAAU,EAAE,QAAQ,GAAG,qBAAqB,EAAE,QAAQ,EAAE,MAAM,EAAE;YAClE,CAAC;IAEL,MAAM,oBAAoB,CAAC,KAAe,UAAU,qBAAqB,QAAQ;IAEjF,sBAAsB;IACtB,yBAAyB;IACzB,sBAAsB;IACtB,MAAM,8BAA8B,CAAC,QAAiB,IAAY,UAChE,OAAO,GAAG,CAAC,CAAC,IACV,EAAE,EAAE,KAAK,KACL;gBAAE,GAAG,CAAC;gBAAE;YAAQ,IAChB;gBAAE,GAAG,CAAC;gBAAE,UAAU,EAAE,QAAQ,GAAG,4BAA4B,EAAE,QAAQ,EAAE,IAAI,WAAW,EAAE;YAAC;IAGjG,MAAM,qBAAqB,CAAC,IAAY;QACtC,UAAU,4BAA4B,QAAQ,IAAI;IACpD;IAEA,sBAAsB;IACtB,0BAA0B;IAC1B,sBAAsB;IACtB,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,OAAO,WAAW,EAAE;QAEzB,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG;QAEhC,yBAAyB;QACzB,IAAI;QACJ,IAAI,OAAO,WAAW,KAAK,QAAQ;YACjC,cAAc,MAAM,CAAC,OAAO,KAAK,CAAC;QACpC,OAAO;YACL,MAAM,cAAc,IAAA,wHAAa,EAAC,QAAQ,OAAO,WAAW;YAC5D,IAAI,eAAe,YAAY,QAAQ,EAAE;gBACvC,cAAc,YAAY,QAAQ,CAAC,OAAO,KAAK,CAAC;YAClD;QACF;QAEA,IAAI,CAAC,aAAa;QAElB,mCAAmC;QACnC,MAAM,oBAAoB,YAAY,WAAW,KAAK,SAAS,IAAA,wHAAa,EAAC,QAAQ,YAAY,WAAW,IAAI;QAEhH,mCAAmC;QACnC,MAAM,cAA2B;YAC/B,QAAQ;gBACN,SAAS,YAAY,EAAE;gBACvB,UAAU,OAAO,WAAW,KAAK,SAAS,OAAO,WAAW,GAAG;gBAC/D,WAAW,YAAY,IAAI;gBAC3B,OAAO,OAAO,KAAK;YACrB;YACA,aAAa;gBACX,UAAU,YAAY,WAAW,KAAK,SAAS,YAAY,WAAW,GAAG;gBACzE,OAAO,YAAY,KAAK;YAC1B;QACF;QAEA,4DAA4D;QAE5D,4CAA4C;QAC5C,UAAU,mBAAmB,QAAQ;IACvC;IAEA,0DAA0D;IAC1D,MAAM,qBAAqB,CAAC,QAAiB;QAC3C,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG;QAEhC,IAAI,CAAC,aAAa,OAAO;QAEzB,2CAA2C;QAC3C,IAAI,OAAO,WAAW,KAAK,UAAU,YAAY,WAAW,KAAK,QAAQ;YACvE,OAAO,gBAAgB,QAAQ,OAAO,KAAK,EAAE,YAAY,KAAK;QAChE;QAEA,iDAAiD;QACjD,IAAI,OAAO,WAAW,KAAK,YAAY,WAAW,EAAE;YAClD,OAAO,qBAAqB,QAAQ,OAAO,WAAW,EAAE,OAAO,KAAK,EAAE,YAAY,KAAK;QACzF;QAEA,2CAA2C;QAC3C,OAAO,2BAA2B,QAAQ,QAAQ;IACpD;IAEA,oCAAoC;IACpC,MAAM,kBAAkB,CAAC,QAAiB,aAAqB;QAC7D,MAAM,YAAY;eAAI;SAAO;QAC7B,MAAM,CAAC,WAAW,GAAG,UAAU,MAAM,CAAC,aAAa;QACnD,UAAU,MAAM,CAAC,WAAW,GAAG;QAC/B,OAAO;IACT;IAEA,0CAA0C;IAC1C,MAAM,uBAAuB,CAAC,QAAiB,aAAqB,aAAqB;QACvF,IAAI,gBAAgB,QAAQ;YAC1B,OAAO,gBAAgB,QAAQ,aAAa;QAC9C;QAEA,OAAO,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,MAAM,EAAE,KAAK,eAAe,MAAM,QAAQ,EAAE;gBAC9C,MAAM,cAAc;uBAAI,MAAM,QAAQ;iBAAC;gBACvC,MAAM,CAAC,WAAW,GAAG,YAAY,MAAM,CAAC,aAAa;gBACrD,YAAY,MAAM,CAAC,WAAW,GAAG;gBACjC,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU;gBAAY;YAC3C;YACA,IAAI,MAAM,QAAQ,EAAE;gBAClB,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU,qBAAqB,MAAM,QAAQ,EAAE,aAAa,aAAa;gBAAW;YACzG;YACA,OAAO;QACT;IACF;IAEA,oCAAoC;IACpC,MAAM,6BAA6B,CAAC,QAAiB,QAAa;QAChE,6BAA6B;QAC7B,IAAI;QAEJ,IAAI,OAAO,WAAW,KAAK,QAAQ;YACjC,cAAc,MAAM,CAAC,OAAO,KAAK,CAAC;QACpC,OAAO;YACL,MAAM,cAAc,IAAA,wHAAa,EAAC,QAAQ,OAAO,WAAW;YAC5D,IAAI,eAAe,YAAY,QAAQ,EAAE;gBACvC,cAAc,YAAY,QAAQ,CAAC,OAAO,KAAK,CAAC;YAClD;QACF;QAEA,IAAI,CAAC,aAAa,OAAO;QAEzB,iCAAiC;QACjC,MAAM,sBAAsB,yBAAyB,QAAQ,OAAO,WAAW,EAAE,OAAO,KAAK;QAE7F,mCAAmC;QACnC,OAAO,oBAAoB,qBAAqB,YAAY,WAAW,EAAE,YAAY,KAAK,EAAE;IAC9F;IAEA,mCAAmC;IACnC,MAAM,2BAA2B,CAAC,QAAiB,aAAqB;QACtE,IAAI,gBAAgB,QAAQ;YAC1B,OAAO,OAAO,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;QACvC;QAEA,OAAO,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,MAAM,EAAE,KAAK,eAAe,MAAM,QAAQ,EAAE;gBAC9C,MAAM,cAAc,MAAM,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;gBAC1D,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU;gBAAY;YAC3C;YACA,IAAI,MAAM,QAAQ,EAAE;gBAClB,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU,yBAAyB,MAAM,QAAQ,EAAE,aAAa;gBAAO;YAC5F;YACA,OAAO;QACT;IACF;IAEA,iCAAiC;IACjC,MAAM,sBAAsB,CAAC,QAAiB,aAAqB,OAAe;QAChF,IAAI,gBAAgB,QAAQ;YAC1B,MAAM,YAAY;mBAAI;aAAO;YAC7B,UAAU,MAAM,CAAC,OAAO,GAAG;YAC3B,OAAO;QACT;QAEA,OAAO,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,MAAM,EAAE,KAAK,aAAa;gBAC5B,MAAM,cAAc;uBAAK,MAAM,QAAQ,IAAI,EAAE;iBAAE;gBAC/C,YAAY,MAAM,CAAC,OAAO,GAAG;gBAC7B,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU;gBAAY;YAC3C;YACA,IAAI,MAAM,QAAQ,EAAE;gBAClB,OAAO;oBAAE,GAAG,KAAK;oBAAE,UAAU,oBAAoB,MAAM,QAAQ,EAAE,aAAa,OAAO;gBAAY;YACnG;YACA,OAAO;QACT;IACF;IAEA,sBAAsB;IACtB,uDAAuD;IACvD,sBAAsB;IACtB,MAAM,cAAc,CAAC,OAAc,UAAmB;QACpD,MAAM,kBAAkB,MAAM,IAAI,KAAK,aAAa,MAAM,IAAI,KAAK;QAEnE,qBACE,qKAAC;YACC,OAAO;gBACL,QAAQ;gBACR,cAAc;gBACd,SAAS;gBACT,cAAc;gBACd,iBAAiB;gBACjB,WAAW;gBACX,YAAY;YACd;;8BAGA,qKAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,gBAAgB;wBAAiB,YAAY;wBAAU,cAAc;oBAAM;;sCACxG,qKAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;4BAAM;;8CAC9D,qKAAC;oCACE,GAAG,WAAW;oCACf,OAAO;wCACL,QAAQ;wCACR,SAAS;wCACT,cAAc;wCACd,iBAAiB;wCACjB,SAAS;wCACT,YAAY;wCACZ,gBAAgB;wCAChB,UAAU;wCACV,QAAQ;oCACV;8CACD;;;;;;8CAGD,qKAAC;oCAAO,OAAO;wCACb,OAAO,MAAM,IAAI,KAAK,WAAW,YAC1B,MAAM,IAAI,KAAK,YAAY,YAC3B,MAAM,IAAI,KAAK,eAAe,YAAY;oCACnD;8CACG,MAAM,IAAI,CAAC,WAAW;;;;;;;;;;;;sCAI3B,qKAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAM;;gCACvC,iCACC;;sDACE,qKAAC;4CACC,OAAO,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI;4CAClC,UAAU,CAAC,IACT,iBAAiB;oDACf,GAAG,aAAa;oDAChB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;gDAC5B;4CAEF,OAAO;gDACL,aAAa;gDACb,SAAS;gDACT,cAAc;gDACd,QAAQ;gDACR,UAAU;4CACZ;;8DAEA,qKAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,qKAAC;oDAAO,OAAM;8DAAa;;;;;;;;;;;;sDAE7B,qKAAC;4CACC,SAAS,IAAM,eAAe,MAAM,EAAE;4CACtC,OAAO;gDACL,aAAa;gDACb,SAAS;gDACT,iBAAiB;gDACjB,OAAO;gDACP,QAAQ;gDACR,cAAc;gDACd,UAAU;gDACV,QAAQ;4CACV;sDACD;;;;;;;;8CAKL,qKAAC;oCACC,SAAS,IAAM,kBAAkB,MAAM,EAAE;oCACzC,OAAO;wCACL,OAAO;wCACP,iBAAiB;wCACjB,QAAQ;wCACR,QAAQ;wCACR,SAAS;wCACT,cAAc;oCAChB;8CACD;;;;;;;;;;;;;;;;;;8BAOL,qKAAC;oBAAI,OAAO;wBAAE,WAAW;oBAAE;8BACxB,MAAM,IAAI,KAAK,0BACd,qKAAC;wBAAG,OAAO;4BAAE,QAAQ;4BAAQ,WAAW;4BAAqB,QAAQ;wBAAQ;;;;;mEAC3E,MAAM,IAAI,KAAK,0BACjB,qKAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,eAAe;4BAAU,KAAK;wBAAE;;0CAC7D,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,SAAS;gCAC/B,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACxF,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;gCAAM;;;;;;0CAE5E,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,SAAS;gCAC/B,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACxF,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;gCAAM;;;;;;0CAE5E,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,WAAW;gCACjC,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC1F,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;gCAAM;;;;;;0CAE5E,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,YAAY;gCAClC,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC3F,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;gCAAM;;;;;;;;;;;mEAG5E,MAAM,IAAI,KAAK,6BACjB,qKAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,eAAe;4BAAU,KAAK;wBAAE;;0CAC7D,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,SAAS;gCAC/B,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACxF,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;oCAAO,YAAY;gCAAO;;;;;;0CAEhG,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,YAAY;gCAClC,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC3F,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;gCAAM;;;;;;0CAE5E,qKAAC;gCACC,aAAY;gCACZ,OAAO,MAAM,OAAO,EAAE,UAAU;gCAChC,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE;wCAAE,GAAG,MAAM,OAAO;wCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACzF,OAAO;oCAAE,SAAS;oCAAO,QAAQ;oCAAqB,cAAc;oCAAO,WAAW;gCAAS;;;;;;;;;;;iFAInG,qKAAC;wBACC,OAAO,OAAO,MAAM,OAAO,KAAK,WAAW,MAAM,OAAO,GAAG,MAAM,OAAO,EAAE,SAAS;wBACnF,UAAU,CAAC;4BACT,IAAI,aAAa,EAAE,MAAM,CAAC,KAAK;4BAC/B,IAAI,MAAM,IAAI,KAAK,YAAY,MAAM,IAAI,KAAK,WAAW;gCACvD,aAAa;oCAAE,GAAG,MAAM,OAAO;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACzD;4BACA,mBAAmB,MAAM,EAAE,EAAE;wBAC/B;wBACA,MAAM,MAAM,IAAI,KAAK,WAAW,IAAI;wBACpC,OAAO;4BACL,OAAO;4BACP,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,UAAU,MAAM,IAAI,KAAK,WAAW,SAAS;4BAC7C,YAAY,MAAM,IAAI,KAAK,WAAW,SAAS;wBACjD;wBACA,aAAa,MAAM,IAAI,KAAK,WAAW,gBAC5B,MAAM,IAAI,KAAK,YAAY,qBAC3B;;;;;;;;;;;gBAMhB,iCACC,qKAAC,sJAAS;oBAAC,aAAa,MAAM,EAAE;oBAAE,MAAK;oBAAQ,aAAa,CAAC,UAAU,UAAU;wBAC/E,MAAM,SAAS,IAAA,wHAAa,EAAC,QAAQ,MAAM,EAAE;wBAC7C,MAAM,UAAU,QAAQ,UAAU,CAAC,OAAO,MAAM,CAAC,KAAK,CAAC;wBACvD,IAAI,CAAC,SAAS,qBAAO,qKAAC;;;;;wBACtB,qBACE,qKAAC;4BACC,KAAK,SAAS,QAAQ;4BACrB,GAAG,SAAS,cAAc;4BAC1B,GAAG,SAAS,eAAe;4BAC5B,OAAO;gCACL,GAAG,SAAS,cAAc,CAAC,KAAK;gCAChC,eAAe;gCACf,YAAY;gCACZ,QAAQ;gCACR,YAAY;gCACZ,cAAc;gCACd,SAAS;4BACX;sCAEC,QAAQ,IAAI,CAAC,WAAW;;;;;;oBAG/B;8BACG,CAAC,UAAU,yBACV,qKAAC;4BACC,KAAK,SAAS,QAAQ;4BACrB,GAAG,SAAS,cAAc;4BAC3B,OAAO;gCACL,YAAY;gCACZ,WAAW;gCACX,aAAa;gCACb,YAAY;gCACZ,iBAAiB,SAAS,cAAc,GAAG,YAAY;gCACvD,cAAc;gCACd,WAAW;gCACX,YAAY;4BACd;;gCAEC,MAAM,QAAQ,EAAE,IAAI,CAAC,OAAO,sBAC3B,qKAAC,sJAAS;wCAAgB,aAAa,MAAM,EAAE;wCAAE,OAAO;kDACrD,CAAC,yBACA,qKAAC;gDACC,KAAK,SAAS,QAAQ;gDACrB,GAAG,SAAS,cAAc;0DAE1B,YAAY,OAAO,MAAM,EAAE,EAAE,SAAS,eAAe;;;;;;uCAN5C,MAAM,EAAE;;;;;gCAWzB,SAAS,WAAW;;;;;;;;;;;;;;;;;;IAOnC;IAEA,sBAAsB;IACtB,kBAAkB;IAClB,sBAAsB;IACtB,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,iBAAiB;QAAU;;0BAExD,qKAAC;gBAAI,OAAO;oBACV,cAAc;oBACd,SAAS;oBACT,iBAAiB;oBACjB,cAAc;oBACd,QAAQ;gBACV;;kCACE,qKAAC;wBAAG,OAAO;4BAAE,QAAQ;4BAAa,OAAO;wBAAU;kCAAG;;;;;;kCACtD,qKAAC;wBAAE,OAAO;4BAAE,QAAQ;4BAAc,OAAO;4BAAW,UAAU;wBAAO;kCAAG;;;;;;kCAIxE,qKAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;4BAAQ,YAAY;wBAAS;;0CAC/D,qKAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,OAAO;oCACL,SAAS;oCACT,QAAQ;oCACR,cAAc;oCACd,iBAAiB;oCACjB,UAAU;gCACZ;;kDAEA,qKAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,qKAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,qKAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,qKAAC;wCAAO,OAAM;kDAAa;;;;;;kDAC3B,qKAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,qKAAC;wCAAO,OAAM;kDAAU;;;;;;;;;;;;0CAE1B,qKAAC;gCACC,SAAS,IAAM;gCACf,OAAO;oCACL,SAAS;oCACT,iBAAiB;oCACjB,OAAO;oCACP,QAAQ;oCACR,cAAc;oCACd,QAAQ;oCACR,UAAU;oCACV,YAAY;gCACd;0CACD;;;;;;;;;;;;;;;;;;0BAOL,qKAAC,4JAAe;gBAAC,WAAW;0BAC1B,cAAA,qKAAC,sJAAS;oBAAC,aAAY;oBAAO,MAAK;oBAAO,aAAa,CAAC,UAAU,UAAU;wBAC1E,MAAM,UAAU,MAAM,CAAC,OAAO,MAAM,CAAC,KAAK,CAAC;wBAC3C,qBACE,qKAAC;4BACC,KAAK,SAAS,QAAQ;4BACrB,GAAG,SAAS,cAAc;4BAC1B,GAAG,SAAS,eAAe;4BAC5B,OAAO;gCACL,GAAG,SAAS,cAAc,CAAC,KAAK;gCAChC,eAAe;gCACf,YAAY;gCACZ,QAAQ;gCACR,YAAY;gCACZ,cAAc;gCACd,SAAS;4BACX;sCAEC,SAAS,KAAK;;;;;;oBAGrB;8BACG,CAAC,UAAU,yBACV,qKAAC;4BACC,KAAK,SAAS,QAAQ;4BACrB,GAAG,SAAS,cAAc;4BAC3B,OAAO;gCACL,WAAW;gCACX,iBAAiB,SAAS,cAAc,GAAG,YAAY;gCACvD,cAAc;gCACd,SAAS,SAAS,cAAc,GAAG,SAAS;gCAC5C,QAAQ,SAAS,cAAc,GAAG,uBAAuB;gCACzD,YAAY;4BACd;;gCAEC,OAAO,MAAM,KAAK,kBACjB,qKAAC;oCAAI,OAAO;wCACV,WAAW;wCACX,SAAS;wCACT,OAAO;wCACP,UAAU;oCACZ;8CAAG;;;;;+EAIH,OAAO,GAAG,CAAC,CAAC,OAAO,sBACjB,qKAAC,sJAAS;wCAAgB,aAAa,MAAM,EAAE;wCAAE,OAAO;kDACrD,CAAC,UAAU,yBACV,qKAAC;gDACC,KAAK,SAAS,QAAQ;gDACrB,GAAG,SAAS,cAAc;gDAC3B,OAAO;oDACL,GAAG,SAAS,cAAc,CAAC,KAAK;oDAChC,SAAS,SAAS,UAAU,GAAG,MAAM;gDACvC;0DAEC,YAAY,OAAO,WAAW,SAAS,eAAe;;;;;;uCAV7C,MAAM,EAAE;;;;;gCAgB3B,SAAS,WAAW;gCAEpB,SAAS,cAAc,kBACtB,qKAAC;oCAAI,OAAO;wCACV,WAAW;wCACX,SAAS;wCACT,OAAO;wCACP,UAAU;wCACV,YAAY;oCACd;8CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnB;uCAEe","debugId":null}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/components/Resizer.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\r\n\r\ninterface ResizerProps {\r\n  onResize: (leftWidth: number, rightWidth: number) => void;\r\n  initialLeftWidth?: number;\r\n  initialRightWidth?: number;\r\n}\r\n\r\nconst Resizer = ({ onResize, initialLeftWidth = 60, initialRightWidth = 40 }: ResizerProps) => {\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [leftWidth, setLeftWidth] = useState(initialLeftWidth);\r\n  const [rightWidth, setRightWidth] = useState(initialRightWidth);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const startXRef = useRef<number>(0);\r\n  const startLeftWidthRef = useRef<number>(0);\r\n\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    setIsDragging(true);\r\n    startXRef.current = e.clientX;\r\n    startLeftWidthRef.current = leftWidth;\r\n    document.body.style.cursor = 'col-resize';\r\n    document.body.style.userSelect = 'none';\r\n  }, [leftWidth]);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (!isDragging || !containerRef.current) return;\r\n\r\n    const containerWidth = containerRef.current.offsetWidth;\r\n    const deltaX = e.clientX - startXRef.current;\r\n    const deltaPercent = (deltaX / containerWidth) * 100;\r\n    \r\n    const newLeftWidth = Math.max(20, Math.min(80, startLeftWidthRef.current + deltaPercent));\r\n    const newRightWidth = 100 - newLeftWidth;\r\n\r\n    setLeftWidth(newLeftWidth);\r\n    setRightWidth(newRightWidth);\r\n    onResize(newLeftWidth, newRightWidth);\r\n  }, [isDragging, onResize]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    document.body.style.cursor = '';\r\n    document.body.style.userSelect = '';\r\n  }, []);\r\n\r\n  // Ajouter les event listeners pour le drag\r\n  React.useEffect(() => {\r\n    if (isDragging) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      \r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  }, [isDragging, handleMouseMove, handleMouseUp]);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      style={{\r\n        position: 'relative',\r\n        width: '8px',\r\n        backgroundColor: isDragging ? '#3b82f6' : '#e1e5e9',\r\n        cursor: 'col-resize',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        transition: isDragging ? 'none' : 'background-color 0.2s ease',\r\n        zIndex: 10\r\n      }}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {/* Indicateur visuel du resizer */}\r\n      <div\r\n        style={{\r\n          width: '2px',\r\n          height: '40px',\r\n          backgroundColor: isDragging ? '#ffffff' : '#9ca3af',\r\n          borderRadius: '1px',\r\n          transition: isDragging ? 'none' : 'background-color 0.2s ease'\r\n        }}\r\n      />\r\n      \r\n      {/* Zone de hover plus large pour faciliter la saisie */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: '-4px',\r\n          right: '-4px',\r\n          bottom: 0,\r\n          cursor: 'col-resize'\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Resizer;"],"names":[],"mappings":";;;;;AAAA;;;AAQA,MAAM,UAAU,CAAC,EAAE,QAAQ,EAAE,mBAAmB,EAAE,EAAE,oBAAoB,EAAE,EAAgB;IACxF,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,eAAe,IAAA,6GAAM,EAAiB;IAC5C,MAAM,YAAY,IAAA,6GAAM,EAAS;IACjC,MAAM,oBAAoB,IAAA,6GAAM,EAAS;IAEzC,MAAM,kBAAkB,IAAA,kHAAW,EAAC,CAAC;QACnC,cAAc;QACd,UAAU,OAAO,GAAG,EAAE,OAAO;QAC7B,kBAAkB,OAAO,GAAG;QAC5B,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG;QAC7B,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG;IACnC,GAAG;QAAC;KAAU;IAEd,MAAM,kBAAkB,IAAA,kHAAW,EAAC,CAAC;QACnC,IAAI,CAAC,cAAc,CAAC,aAAa,OAAO,EAAE;QAE1C,MAAM,iBAAiB,aAAa,OAAO,CAAC,WAAW;QACvD,MAAM,SAAS,EAAE,OAAO,GAAG,UAAU,OAAO;QAC5C,MAAM,eAAe,AAAC,SAAS,iBAAkB;QAEjD,MAAM,eAAe,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,kBAAkB,OAAO,GAAG;QAC3E,MAAM,gBAAgB,MAAM;QAE5B,aAAa;QACb,cAAc;QACd,SAAS,cAAc;IACzB,GAAG;QAAC;QAAY;KAAS;IAEzB,MAAM,gBAAgB,IAAA,kHAAW,EAAC;QAChC,cAAc;QACd,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG;QAC7B,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG;IACnC,GAAG,EAAE;IAEL,2CAA2C;IAC3C,8GAAK,CAAC,SAAS,CAAC;QACd,IAAI,YAAY;YACd,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,gBAAgB,CAAC,WAAW;YAErC,OAAO;gBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC1C,SAAS,mBAAmB,CAAC,WAAW;YAC1C;QACF;IACF,GAAG;QAAC;QAAY;QAAiB;KAAc;IAE/C,qBACE,qKAAC;QACC,KAAK;QACL,OAAO;YACL,UAAU;YACV,OAAO;YACP,iBAAiB,aAAa,YAAY;YAC1C,QAAQ;YACR,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,YAAY,aAAa,SAAS;YAClC,QAAQ;QACV;QACA,aAAa;;0BAGb,qKAAC;gBACC,OAAO;oBACL,OAAO;oBACP,QAAQ;oBACR,iBAAiB,aAAa,YAAY;oBAC1C,cAAc;oBACd,YAAY,aAAa,SAAS;gBACpC;;;;;;0BAIF,qKAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,QAAQ;oBACR,QAAQ;gBACV;;;;;;;;;;;;AAIR;uCAEe","debugId":null}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/utils/blocksToHTML.ts"],"sourcesContent":["import { Block } from \"./types\";\r\n\r\nexport default function blocksToHTML(blocks: Block[], fontScale: number = 1): string {\r\n    return blocks.map(block => {\r\n      switch (block.type) {\r\n        case \"header\": {\r\n          const text = block.content?.title || \"\";\r\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px;\">\r\n            <h1 style=\"font-size:${18 * fontScale}pt; font-weight:bold; margin:0; padding:0;\">${text}</h1>\r\n          </div>`;\r\n        }\r\n  \r\n        case \"contact\": {\r\n          const c = block.content || {};\r\n          return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n            ${c.email || \"\"} • ${c.phone || \"\"} • ${c.address || \"\"} • ${c.linkedin || \"\"}\r\n          </div>`;\r\n        }\r\n  \r\n        case \"text\": {\r\n          const content = block.content || \"\";\r\n          const isItalic = content.includes(\"Étudiant à IMT Atlantique\");\r\n          const isBullet = content.startsWith(\"•\");\r\n          const hasChildren = block.children && block.children.length > 0;\r\n          \r\n          if (isBullet) {\r\n            return `<div style=\"margin-left:${16 * fontScale}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          } else if (isItalic) {\r\n            return `<div style=\"text-align:center; margin-bottom:${8 * fontScale}px; font-style:italic; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          } else {\r\n            return `<div style=\"margin-left:${hasChildren ? 16 * fontScale : 0}px; margin-bottom:${2 * fontScale}px; font-size:${10 * fontScale}pt;\">\r\n              ${content}\r\n            </div>${blocksToHTML(block.children || [], fontScale)}`;\r\n          }\r\n        }\r\n  \r\n        case \"divider\":\r\n          return `<hr style=\"border:0; border-top:1px solid #000; margin:${8 * fontScale}px 0;\"/>`;\r\n  \r\n        case \"section\":\r\n          return `<div style=\"margin-top:${8 * fontScale}px;\">\r\n            <h2 style=\"font-size:${12 * fontScale}pt; font-weight:bold; text-transform:uppercase; margin:0 0 ${4 * fontScale}px 0;\">${block.content?.title || \"\"}</h2>\r\n            ${blocksToHTML(block.children || [], fontScale)}\r\n          </div>`;\r\n  \r\n        case \"subsection\":\r\n          return `<div style=\"margin-bottom:${4 * fontScale}px;\">\r\n            <div style=\"display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:${2 * fontScale}px;\">\r\n              <div>\r\n                <div style=\"font-weight:bold; font-size:${10 * fontScale}pt;\">${block.content?.title || \"\"}</div>\r\n                ${block.content?.subtitle ? `<div style=\"font-size:${10 * fontScale}pt; margin-top:${1 * fontScale}px;\">${block.content.subtitle}</div>` : \"\"}\r\n              </div>\r\n              <div style=\"font-style:italic; font-size:${10 * fontScale}pt;\">${block.content?.period || \"\"}</div>\r\n            </div>\r\n            ${blocksToHTML(block.children || [], fontScale)}\r\n          </div>`;\r\n  \r\n        default:\r\n          return \"\";\r\n      }\r\n    }).join(\"\");\r\n  }\r\n  "],"names":[],"mappings":";;;;AAEe,SAAS,aAAa,MAAe,EAAE,YAAoB,CAAC;IACvE,OAAO,OAAO,GAAG,CAAC,CAAA;QAChB,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAU;oBACb,MAAM,OAAO,MAAM,OAAO,EAAE,SAAS;oBACrC,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU;iCAC9C,EAAE,KAAK,UAAU,4CAA4C,EAAE,KAAK;gBACrF,CAAC;gBACT;YAEA,KAAK;gBAAW;oBACd,MAAM,IAAI,MAAM,OAAO,IAAI,CAAC;oBAC5B,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;YAClG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,GAAG,EAAE,EAAE,QAAQ,IAAI,GAAG;gBAC1E,CAAC;gBACT;YAEA,KAAK;gBAAQ;oBACX,MAAM,UAAU,MAAM,OAAO,IAAI;oBACjC,MAAM,WAAW,QAAQ,QAAQ,CAAC;oBAClC,MAAM,WAAW,QAAQ,UAAU,CAAC;oBACpC,MAAM,cAAc,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,GAAG;oBAE9D,IAAI,UAAU;wBACZ,OAAO,CAAC,wBAAwB,EAAE,KAAK,UAAU,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAChH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO,IAAI,UAAU;wBACnB,OAAO,CAAC,6CAA6C,EAAE,IAAI,UAAU,iCAAiC,EAAE,KAAK,UAAU;cACrH,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD,OAAO;wBACL,OAAO,CAAC,wBAAwB,EAAE,cAAc,KAAK,YAAY,EAAE,kBAAkB,EAAE,IAAI,UAAU,cAAc,EAAE,KAAK,UAAU;cAClI,EAAE,QAAQ;kBACN,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,YAAY;oBACzD;gBACF;YAEA,KAAK;gBACH,OAAO,CAAC,uDAAuD,EAAE,IAAI,UAAU,QAAQ,CAAC;YAE1F,KAAK;gBACH,OAAO,CAAC,uBAAuB,EAAE,IAAI,UAAU;iCACxB,EAAE,KAAK,UAAU,2DAA2D,EAAE,IAAI,UAAU,OAAO,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;YACrJ,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET,KAAK;gBACH,OAAO,CAAC,0BAA0B,EAAE,IAAI,UAAU;2GAC+C,EAAE,IAAI,UAAU;;wDAEnE,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,SAAS,GAAG;gBAC3F,EAAE,MAAM,OAAO,EAAE,WAAW,CAAC,sBAAsB,EAAE,KAAK,UAAU,eAAe,EAAE,IAAI,UAAU,KAAK,EAAE,MAAM,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,GAAG;;uDAEvG,EAAE,KAAK,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,UAAU,GAAG;;YAE/F,EAAE,aAAa,MAAM,QAAQ,IAAI,EAAE,EAAE,WAAW;gBAC5C,CAAC;YAET;gBACE,OAAO;QACX;IACF,GAAG,IAAI,CAAC;AACV","debugId":null}},
    {"offset": {"line": 1211, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/data/initialCV.tsx"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\r\nimport { Block } from \"./types\";\r\n\r\nexport const initialBlocks: Block[] = [\r\n  {\r\n    id: uuidv4(),\r\n    type: \"header\",\r\n    content: { title: \"Charles Pelong\" },\r\n    style: { size: \"large\", align: \"center\" },\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"contact\",\r\n    content: {\r\n      email: \"charlespelong@gmail.com\",\r\n      phone: \"+33 7 83 28 54 92\",\r\n      address: \"31 Avenue de Verdun, 78290 Croissy-sur-Seine\",\r\n      linkedin: \"https://fr.linkedin.com/in/charles-pelong-a68212246\",\r\n    },\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"text\",\r\n    content: \"Étudiant à IMT Atlantique à la recherche d'un stage de fin d'études à partir du 04/2026 dans le domaine de la science des données et de l'apprentissage automatique.\",\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"divider\"\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"section\",\r\n    content: { title: \"FORMATIONS\" },\r\n    children: [\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"IMT Atlantique\",\r\n          subtitle: \"Master : Data Science et Recherche Opérationnelle\",\r\n          period: \"09/2022 -- 06/2025\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"#3 école d'ingénieurs française, d'après le Classement de l'Etudiant 2025\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Cours : Mathématiques appliquées, Statistiques, Probabilités, Machine Learning, Optimisation, Recherche opérationnelle, IA, Python, Java, Anglais\" },\r\n        ],\r\n      },\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"Shanghai Jiao Tong University\",\r\n          subtitle: \"Master en Informatique et Recherche Opérationnelle\",\r\n          period: \"09/2022 -- 06/2025\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"#9 université mondiale en Computer Science, d'après le Classement de Shanghai 2025\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Cours : Deep Learning, Computer Vision, Machine Learning, Cloud Computing, Chinois\" },\r\n        ],\r\n      },\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"Lycée Pasteur\",\r\n          subtitle: \"Classes préparatoires scientifiques PCSI/PC (CPGE)\",\r\n          period: \"09/2020 -- 07/2022\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"Formation intensive en Mathématiques, Physique, Chimie, Informatique, Français, Anglais\" },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"divider\"\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"section\",\r\n    content: { title: \"EXPERIENCES PROFESSIONNELLES\" },\r\n    children: [\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"JCDecaux\",\r\n          subtitle: \"Data Scientist\",\r\n          period: \"11/2024 -- 05/2025\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"Stage de 6 mois au sein de la DataCorp, entité de JCDecaux développant des produits data\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Développement de solutions RAG (Retrieval-Augmented Generation) as-a-service (Python, AWS, Langchain). Création de copilotes IA à destination :\" },\r\n          { id: uuidv4(), type: \"text\", content: \"• des commerciaux pour un accès rapide à des données ciblées et fiables du groupe pour l'élaboration de devis.\" },\r\n          { id: uuidv4(), type: \"text\", content: \"• de la direction financière permettant la création de tableaux de bord à partir du langage naturel basés sur les données du groupe.\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Ces produits permettent de réduire drastiquement le temps de recherche et les frottements entre différentes entités du groupe.\" },\r\n        ],\r\n      },\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"Sopra Steria Next\",\r\n          subtitle: \"Data Analyst / Data Engineer\",\r\n          period: \"04/2024 -- 10/2024\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"Stage de 6 mois, mission de conseil orientée data pour le compte du Ministère de l'Intérieur\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Collecte et traitement de données incluant du web scraping et extraction depuis diverses sources (Python, Selenium).\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Création de pipelines de données pour automatiser l'intégration et le nettoyage (Python, Pandas, M/Power BI).\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Production de tableaux de bord et rapports automatisés pour suivre les indicateurs de performance (Power BI, Python).\" },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"divider\"\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"section\",\r\n    content: { title: \"AUTRES EXPERIENCES\" },\r\n    children: [\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"Junior Atlantique – Timber Productions\",\r\n          subtitle: \"Développeur logiciel\",\r\n          period: \"05/2023 -- 10/2023\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"Développement complet d'une application de gestion et recherche de contacts clients (JavaScript).\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Vente de l'application pour 3 000€.\" },\r\n        ],\r\n      },\r\n      {\r\n        id: uuidv4(),\r\n        type: \"subsection\",\r\n        content: {\r\n          title: \"Reeverse Systems\",\r\n          subtitle: \"Chef de projet\",\r\n          period: \"09/2023 -- 01/2024\",\r\n        },\r\n        children: [\r\n          { id: uuidv4(), type: \"text\", content: \"Projet académique de 4 mois avec Reeverse Systems, élaboration d'un simulateur pour démontrer l'efficacité de leur solution : réduction des déchets industriels et maximisation des rendements.\" },\r\n          { id: uuidv4(), type: \"text\", content: \"Conception d'un simulateur multi-objectifs pour la production industrielle (Python, Matplotlib) :\" },\r\n          { id: uuidv4(), type: \"text\", content: \"• Génération de données aléatoires suivant différentes lois pour simuler plusieurs facteurs (nombre d'ouvriers, poids des déchets, etc.).\" },\r\n          { id: uuidv4(), type: \"text\", content: \"• Création de fronts de Pareto et visualisation sous forme de graphes radar (Python, Matplotlib).\" },\r\n          { id: uuidv4(), type: \"text\", content: \"• Clustering K-means sur le front de Pareto pour ne présenter que 5 solutions représentatives.\" },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"divider\"\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    type: \"section\",\r\n    content: { title: \"COMPETENCES, LANGUES ET ACTIVITES\" },\r\n    children: [\r\n      { id: uuidv4(), type: \"text\", content: \"Langues : Français (natif), Anglais (IELTS 7/9), Espagnol (A2), Allemand (A2)\" },\r\n      { id: uuidv4(), type: \"text\", content: \"Programmation : Python (Pandas, Scikit-learn), SQL, GitHub, Java, JavaScript, M/Power BI\" },\r\n      { id: uuidv4(), type: \"text\", content: \"Machine Learning : Kaggle competitions (stacking LGBM+CatBoost sur les prix de voitures d'occasion), étude de cas Roland Berger (cliniques dentaires)\" },\r\n      { id: uuidv4(), type: \"text\", content: \"Sports : Judo, Rugby (capitaine et responsable de l'équipe de l'école)\" },\r\n      { id: uuidv4(), type: \"text\", content: \"Bénévolat : Scouts (10 ans) + mission humanitaire (1 mois)\" },\r\n    ],\r\n  },\r\n];\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/halca/finance-type/my-cv-app/pages/index.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport BlockEditor from \"../components/BlockEditor\";\r\nimport Resizer from \"../components/Resizer\";\r\nimport blocksToHTML from \"../utils/blocksToHTML\";\r\nimport { initialBlocks } from \"../data/initialCV\";\r\nimport { Block } from \"../utils/types\";\r\n\r\n// Styles CSS pour la responsivité\r\nconst styles = `\r\n  .main-container {\r\n    display: flex !important;\r\n    gap: 0 !important;\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .editor-section {\r\n    flex-shrink: 0;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n  }\r\n  \r\n  .preview-section {\r\n    flex-shrink: 0;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n  }\r\n  \r\n  .resizer {\r\n    flex-shrink: 0;\r\n    position: relative;\r\n  }\r\n  \r\n  /* Améliorer l'apparence du resizer */\r\n  .resizer:hover {\r\n    background-color: #9ca3af !important;\r\n  }\r\n  \r\n  @media (max-width: 1200px) {\r\n    .main-container {\r\n      flex-direction: column !important;\r\n      gap: 2rem !important;\r\n      height: auto !important;\r\n      overflow: visible !important;\r\n    }\r\n    .editor-section {\r\n      width: 100% !important;\r\n      min-width: auto !important;\r\n      overflow: visible !important;\r\n    }\r\n    .preview-section {\r\n      position: relative !important;\r\n      height: auto !important;\r\n      width: 100% !important;\r\n      min-width: auto !important;\r\n      overflow: visible !important;\r\n    }\r\n    .preview-cv {\r\n      transform: scale(0.6) !important;\r\n    }\r\n    .resizer {\r\n      display: none !important;\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    .preview-cv {\r\n      transform: scale(0.5) !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function Home() {\r\n  // IDs stables: charger depuis localStorage si disponible\r\n  const [blocks, setBlocks] = useState<Block[]>([]);\r\n  const [pdfUrl, setPdfUrl] = useState<string>(\"\");\r\n  const [fontScale, setFontScale] = useState<number>(1);\r\n  const [showWarning, setShowWarning] = useState<boolean>(false);\r\n  const [leftWidth, setLeftWidth] = useState<number>(60);\r\n  const [rightWidth, setRightWidth] = useState<number>(40);\r\n  const previewRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Charger/Sauvegarder les blocs pour stabiliser les IDs (éviter HMR qui regénère)\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    try {\r\n      const stored = window.localStorage.getItem(\"cv_blocks\");\r\n      if (stored) {\r\n        const parsed = JSON.parse(stored) as Block[];\r\n        setBlocks(parsed);\r\n      } else {\r\n        setBlocks(initialBlocks);\r\n        window.localStorage.setItem(\"cv_blocks\", JSON.stringify(initialBlocks));\r\n      }\r\n    } catch (e) {\r\n      setBlocks(initialBlocks);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    try {\r\n      window.localStorage.setItem(\"cv_blocks\", JSON.stringify(blocks));\r\n    } catch {}\r\n  }, [blocks]);\r\n\r\n  // Fonction pour calculer la taille de police optimale\r\n  const calculateOptimalFontScale = () => {\r\n    if (!previewRef.current) return 1;\r\n  \r\n    // Hauteur maximale A4 approximative en pixels\r\n    const maxHeight = 1050;\r\n    let scale = 1;\r\n  \r\n    // Créer un div temporaire pour mesurer\r\n    const tempDiv = document.createElement(\"div\");\r\n    tempDiv.style.width = \"210mm\";\r\n    tempDiv.style.padding = \"15mm\";\r\n    tempDiv.style.boxSizing = \"border-box\";\r\n    tempDiv.style.position = \"absolute\";\r\n    tempDiv.style.visibility = \"hidden\";\r\n    document.body.appendChild(tempDiv);\r\n  \r\n    // Itérer pour trouver la plus grande taille qui tient\r\n    let currentScale = 1;\r\n    let step = 0.02; // petit pas pour précision\r\n    while (currentScale > 0.5) {\r\n      tempDiv.style.fontSize = `${currentScale}em`;\r\n      tempDiv.style.lineHeight = `${1.1 * currentScale}`;\r\n      tempDiv.innerHTML = blocksToHTML(blocks, currentScale);\r\n      const contentHeight = tempDiv.scrollHeight;\r\n  \r\n      if (contentHeight <= maxHeight) {\r\n        scale = currentScale;\r\n        break;\r\n      }\r\n      currentScale -= step;\r\n    }\r\n  \r\n    document.body.removeChild(tempDiv);\r\n    return scale;\r\n  };\r\n  \r\n\r\n  // Vérifier le dépassement à chaque changement de blocks avec délai\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      const scale = calculateOptimalFontScale();\r\n      setFontScale(scale);\r\n      setShowWarning(scale < 1);\r\n    }, 100); // Délai pour laisser le DOM se mettre à jour\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [blocks]);\r\n\r\n  const handleGeneratePDF = async () => {\r\n    const res = await fetch(\"/api/generate-pdf\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ blocks, fontScale }),\r\n    });\r\n    const blob = await res.blob();\r\n    setPdfUrl(URL.createObjectURL(blob));\r\n  };\r\n\r\n  const handleResize = (newLeftWidth: number, newRightWidth: number) => {\r\n    setLeftWidth(newLeftWidth);\r\n    setRightWidth(newRightWidth);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{styles}</style>\r\n      <div \r\n        className=\"main-container\"\r\n        style={{ \r\n          display: \"flex\", \r\n          gap: \"0\", \r\n          minHeight: \"100vh\",\r\n          position: \"relative\"\r\n        }}\r\n      >\r\n        {/* Partie gauche - Éditeur (scrollable) */}\r\n        <div \r\n          className=\"editor-section\"\r\n          style={{ \r\n            width: `${leftWidth}%`,\r\n            minWidth: \"300px\",\r\n            paddingRight: \"1rem\"\r\n          }}\r\n        >\r\n          <BlockEditor blocks={blocks} setBlocks={setBlocks} />\r\n        </div>\r\n        \r\n        {/* Séparateur redimensionnable */}\r\n        <div className=\"resizer\">\r\n          <Resizer \r\n            onResize={handleResize}\r\n            initialLeftWidth={leftWidth}\r\n            initialRightWidth={rightWidth}\r\n          />\r\n        </div>\r\n        \r\n        {/* Partie droite - Aperçu (fixe) */}\r\n        <div \r\n          className=\"preview-section\"\r\n          style={{ \r\n            width: `${rightWidth}%`,\r\n            minWidth: \"300px\",\r\n            position: \"sticky\",\r\n            top: \"0\",\r\n            height: \"100vh\",\r\n            overflow: \"auto\",\r\n            backgroundColor: \"#f8fafc\",\r\n            padding: \"1rem\",\r\n            borderLeft: \"1px solid #e1e5e9\"\r\n          }}\r\n        >\r\n        {showWarning && (\r\n          <div style={{\r\n            backgroundColor: \"#fff3cd\",\r\n            border: \"1px solid #ffeaa7\",\r\n            borderRadius: \"4px\",\r\n            padding: \"8px 12px\",\r\n            margin: \"10px 0\",\r\n            color: \"#856404\",\r\n            fontSize: \"14px\"\r\n          }}>\r\n            ⚠️ Attention : Tu dépasses la première page ! La taille de police a été réduite à {Math.round(fontScale * 100)}% pour tenir sur une page.\r\n          </div>\r\n        )}\r\n        \r\n        <div style={{ \r\n          display: \"flex\", \r\n          justifyContent: \"center\",\r\n          marginBottom: \"1rem\"\r\n        }}>\r\n          <div\r\n            ref={previewRef}\r\n            className=\"preview-cv\"\r\n            style={{\r\n              width: \"210mm\",\r\n              minHeight: \"297mm\",\r\n              padding: \"15mm\",\r\n              border: \"1px solid #000\",\r\n              boxSizing: \"border-box\",\r\n              backgroundColor: \"#fff\",\r\n              fontSize: `${fontScale}em`,\r\n              lineHeight: `${1.1 * fontScale}`,\r\n              transform: \"scale(0.8)\",\r\n              transformOrigin: \"top center\",\r\n              marginBottom: \"2rem\"\r\n            }}\r\n            dangerouslySetInnerHTML={{ __html: blocksToHTML(blocks, fontScale) }}\r\n          />\r\n        </div>\r\n        \r\n        <div style={{ \r\n          display: \"flex\", \r\n          flexDirection: \"column\",\r\n          gap: \"8px\",\r\n          position: \"sticky\",\r\n          bottom: \"1rem\",\r\n          backgroundColor: \"#fff\",\r\n          padding: \"1rem\",\r\n          borderRadius: \"8px\",\r\n          border: \"1px solid #e1e5e9\",\r\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n        }}>\r\n          <button \r\n            onClick={handleGeneratePDF}\r\n            style={{\r\n              padding: \"12px 16px\",\r\n              backgroundColor: \"#3b82f6\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"6px\",\r\n              cursor: \"pointer\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"500\"\r\n            }}\r\n          >\r\n            Générer PDF\r\n          </button>\r\n          <button \r\n            onClick={() => {\r\n              const scale = calculateOptimalFontScale();\r\n              setFontScale(scale);\r\n              setShowWarning(scale < 1);\r\n            }} \r\n            style={{ \r\n              fontSize: \"12px\",\r\n              padding: \"8px 12px\",\r\n              backgroundColor: \"#f3f4f6\",\r\n              border: \"1px solid #d1d5db\",\r\n              borderRadius: \"6px\",\r\n              cursor: \"pointer\"\r\n            }}\r\n          >\r\n            Recalculer taille\r\n          </button>\r\n        </div>\r\n        \r\n        {pdfUrl && (\r\n          <div style={{ \r\n            marginTop: \"1rem\",\r\n            border: \"1px solid #e1e5e9\",\r\n            borderRadius: \"8px\",\r\n            overflow: \"hidden\"\r\n          }}>\r\n            <iframe \r\n              src={pdfUrl} \r\n              width=\"100%\" \r\n              height=\"400px\" \r\n              style={{ border: \"none\" }}\r\n            />\r\n          </div>\r\n        )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAGA,kCAAkC;AAClC,MAAM,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DhB,CAAC;AAEc,SAAS;IACtB,yDAAyD;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAS;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAS;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAU;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAS;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAS;IACrD,MAAM,aAAa,IAAA,6GAAM,EAAiB;IAE1C,kFAAkF;IAClF,IAAA,gHAAS,EAAC;QACR,wCAAmC;;;IAanC,uDAAuD;IACzD,GAAG,EAAE;IAEL,IAAA,gHAAS,EAAC;QACR,wCAAmC;;;IAIrC,GAAG;QAAC;KAAO;IAEX,sDAAsD;IACtD,MAAM,4BAA4B;QAChC,IAAI,CAAC,WAAW,OAAO,EAAE,OAAO;QAEhC,8CAA8C;QAC9C,MAAM,YAAY;QAClB,IAAI,QAAQ;QAEZ,uCAAuC;QACvC,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,QAAQ,KAAK,CAAC,KAAK,GAAG;QACtB,QAAQ,KAAK,CAAC,OAAO,GAAG;QACxB,QAAQ,KAAK,CAAC,SAAS,GAAG;QAC1B,QAAQ,KAAK,CAAC,QAAQ,GAAG;QACzB,QAAQ,KAAK,CAAC,UAAU,GAAG;QAC3B,SAAS,IAAI,CAAC,WAAW,CAAC;QAE1B,sDAAsD;QACtD,IAAI,eAAe;QACnB,IAAI,OAAO,MAAM,2BAA2B;QAC5C,MAAO,eAAe,IAAK;YACzB,QAAQ,KAAK,CAAC,QAAQ,GAAG,GAAG,aAAa,EAAE,CAAC;YAC5C,QAAQ,KAAK,CAAC,UAAU,GAAG,GAAG,MAAM,cAAc;YAClD,QAAQ,SAAS,GAAG,IAAA,yHAAY,EAAC,QAAQ;YACzC,MAAM,gBAAgB,QAAQ,YAAY;YAE1C,IAAI,iBAAiB,WAAW;gBAC9B,QAAQ;gBACR;YACF;YACA,gBAAgB;QAClB;QAEA,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,OAAO;IACT;IAGA,mEAAmE;IACnE,IAAA,gHAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,MAAM,QAAQ;YACd,aAAa;YACb,eAAe,QAAQ;QACzB,GAAG,MAAM,6CAA6C;QAEtD,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAO;IAEX,MAAM,oBAAoB;QACxB,MAAM,MAAM,MAAM,MAAM,qBAAqB;YAC3C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAQ;YAAU;QAC3C;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,UAAU,IAAI,eAAe,CAAC;IAChC;IAEA,MAAM,eAAe,CAAC,cAAsB;QAC1C,aAAa;QACb,cAAc;IAChB;IAEA,qBACE;;0BACE,qKAAC;0BAAO;;;;;;0BACR,qKAAC;gBACC,WAAU;gBACV,OAAO;oBACL,SAAS;oBACT,KAAK;oBACL,WAAW;oBACX,UAAU;gBACZ;;kCAGA,qKAAC;wBACC,WAAU;wBACV,OAAO;4BACL,OAAO,GAAG,UAAU,CAAC,CAAC;4BACtB,UAAU;4BACV,cAAc;wBAChB;kCAEA,cAAA,qKAAC,8HAAW;4BAAC,QAAQ;4BAAQ,WAAW;;;;;;;;;;;kCAI1C,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC,0HAAO;4BACN,UAAU;4BACV,kBAAkB;4BAClB,mBAAmB;;;;;;;;;;;kCAKvB,qKAAC;wBACC,WAAU;wBACV,OAAO;4BACL,OAAO,GAAG,WAAW,CAAC,CAAC;4BACvB,UAAU;4BACV,UAAU;4BACV,KAAK;4BACL,QAAQ;4BACR,UAAU;4BACV,iBAAiB;4BACjB,SAAS;4BACT,YAAY;wBACd;;4BAED,6BACC,qKAAC;gCAAI,OAAO;oCACV,iBAAiB;oCACjB,QAAQ;oCACR,cAAc;oCACd,SAAS;oCACT,QAAQ;oCACR,OAAO;oCACP,UAAU;gCACZ;;oCAAG;oCACkF,KAAK,KAAK,CAAC,YAAY;oCAAK;;;;;;;0CAInH,qKAAC;gCAAI,OAAO;oCACV,SAAS;oCACT,gBAAgB;oCAChB,cAAc;gCAChB;0CACE,cAAA,qKAAC;oCACC,KAAK;oCACL,WAAU;oCACV,OAAO;wCACL,OAAO;wCACP,WAAW;wCACX,SAAS;wCACT,QAAQ;wCACR,WAAW;wCACX,iBAAiB;wCACjB,UAAU,GAAG,UAAU,EAAE,CAAC;wCAC1B,YAAY,GAAG,MAAM,WAAW;wCAChC,WAAW;wCACX,iBAAiB;wCACjB,cAAc;oCAChB;oCACA,yBAAyB;wCAAE,QAAQ,IAAA,yHAAY,EAAC,QAAQ;oCAAW;;;;;;;;;;;0CAIvE,qKAAC;gCAAI,OAAO;oCACV,SAAS;oCACT,eAAe;oCACf,KAAK;oCACL,UAAU;oCACV,QAAQ;oCACR,iBAAiB;oCACjB,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,WAAW;gCACb;;kDACE,qKAAC;wCACC,SAAS;wCACT,OAAO;4CACL,SAAS;4CACT,iBAAiB;4CACjB,OAAO;4CACP,QAAQ;4CACR,cAAc;4CACd,QAAQ;4CACR,UAAU;4CACV,YAAY;wCACd;kDACD;;;;;;kDAGD,qKAAC;wCACC,SAAS;4CACP,MAAM,QAAQ;4CACd,aAAa;4CACb,eAAe,QAAQ;wCACzB;wCACA,OAAO;4CACL,UAAU;4CACV,SAAS;4CACT,iBAAiB;4CACjB,QAAQ;4CACR,cAAc;4CACd,QAAQ;wCACV;kDACD;;;;;;;;;;;;4BAKF,wBACC,qKAAC;gCAAI,OAAO;oCACV,WAAW;oCACX,QAAQ;oCACR,cAAc;oCACd,UAAU;gCACZ;0CACE,cAAA,qKAAC;oCACC,KAAK;oCACL,OAAM;oCACN,QAAO;oCACP,OAAO;wCAAE,QAAQ;oCAAO;;;;;;;;;;;;;;;;;;;;;;;;;AAQtC","debugId":null}}]
}