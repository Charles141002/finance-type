{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/finance-type/my-cv-app/components/DynamicHeader.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { ReactNode, useState, useEffect, useMemo } from \"react\";\nimport { useSession, useSupabaseClient } from \"@supabase/auth-helpers-react\";\nimport type { CSSProperties } from \"react\";\n\ntype DynamicHeaderProps = {\n  rightActions?: ReactNode;\n  variant?: \"default\" | \"landing\";\n  scrollContainerRef?: React.RefObject<HTMLDivElement>;\n};\n\nconst baseNavLink: CSSProperties = {\n  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n  fontWeight: 600,\n  fontSize: 13,\n  letterSpacing: \"0.02em\",\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  gap: 8,\n  padding: \"10px 16px\",\n  borderRadius: 999,\n  transition: \"background-color 0.2s ease, color 0.2s ease\",\n  textDecoration: \"none\",\n};\n\nexport default function DynamicHeader({ rightActions, variant = \"default\", scrollContainerRef }: DynamicHeaderProps) {\n  const [isVisible, setIsVisible] = useState(true);\n  const [lastScrollY, setLastScrollY] = useState(0);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const router = useRouter();\n  const session = useSession();\n  const supabase = useSupabaseClient();\n\n  const theme = useMemo(() => {\n    if (variant === \"landing\") {\n      return {\n        height: 120,\n        wrapper: {\n          transition: \"height 0.35s ease, opacity 0.35s ease\",\n        },\n        container: {\n          height: 120,\n          display: \"flex\",\n          alignItems: \"center\",\n          background: \"linear-gradient(180deg, rgba(2, 6, 23, 0.95), rgba(2, 6, 23, 0.9))\",\n          backdropFilter: \"saturate(140%) blur(8px)\",\n          WebkitBackdropFilter: \"saturate(140%) blur(8px)\",\n          borderBottom: \"2px solid rgba(255,255,255,0.15)\",\n          borderTop: \"1px solid rgba(255,255,255,0.1)\",\n          width: \"100%\",\n        },\n        inner: {\n          width: \"100%\",\n          maxWidth: 2000,\n          margin: \"0 auto\",\n          padding: \"0 24px 0 0\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"flex-start\",\n          gap: 20,\n        },\n        nav: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 28,\n          marginLeft: \"auto\",\n        },\n        navLink: {\n          ...baseNavLink,\n          padding: \"0\",\n          color: \"#e2e8f0\",\n        },\n        primary: {\n          ...baseNavLink,\n          padding: \"12px 22px\",\n          background: \"linear-gradient(135deg, #3b82f6, #1d4ed8)\",\n          color: \"#fff\",\n          border: \"1px solid rgba(255,255,255,0.18)\",\n        },\n        subtle: {\n          ...baseNavLink,\n          padding: \"12px 22px\",\n          background: \"rgba(255,255,255,0.08)\",\n          border: \"1px solid rgba(255,255,255,0.14)\",\n          color: \"#e2e8f0\",\n        },\n        logo: {\n          height: 120,\n        },\n        tagline: null,\n      } as const;\n    }\n\n    return {\n      height: 72,\n      wrapper: {\n        transition: \"height 0.28s ease, opacity 0.28s ease\",\n      },\n      container: {\n        height: 72,\n        display: \"flex\",\n        alignItems: \"center\",\n        backgroundColor: \"rgba(252, 253, 255, 0.9)\",\n        borderBottom: \"1px solid rgba(15, 23, 42, 0.08)\",\n        backdropFilter: \"blur(16px)\",\n        WebkitBackdropFilter: \"blur(16px)\",\n        boxShadow: \"0 12px 28px rgba(15, 23, 42, 0.06)\",\n        width: \"100%\",\n      },\n      inner: {\n        width: \"100%\",\n        maxWidth: 1200,\n        margin: \"0 auto\",\n        padding: \"0 24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 20,\n      },\n      nav: {\n        marginLeft: \"auto\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 12,\n      },\n      navLink: {\n        ...baseNavLink,\n        color: \"#1f2937\",\n      },\n      primary: {\n        ...baseNavLink,\n        color: \"#fff\",\n        background: \"linear-gradient(135deg, #1d4ed8, #2563eb)\",\n        border: \"1px solid rgba(37, 99, 235, 0.4)\",\n        boxShadow: \"0 10px 26px rgba(37, 99, 235, 0.22)\",\n      },\n      subtle: {\n        ...baseNavLink,\n        color: \"#1d4ed8\",\n        backgroundColor: \"rgba(37, 99, 235, 0.12)\",\n        border: \"1px solid rgba(37, 99, 235, 0.2)\",\n      },\n      logo: {\n        height: 40,\n      },\n      tagline: {\n        fontSize: 12,\n        color: \"#475569\",\n        letterSpacing: \"0.08em\",\n        textTransform: \"uppercase\",\n      },\n    } as const;\n  }, [variant]);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setIsInitialized(true), 600);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const scrollElement = scrollContainerRef?.current || window;\n\n    const handleScroll = () => {\n      if (!isInitialized) return;\n\n      const currentScrollY =\n        scrollElement === window\n          ? window.scrollY\n          : (scrollElement as HTMLDivElement).scrollTop ?? 0;\n\n      const newVisibility = currentScrollY < lastScrollY || currentScrollY <= 12;\n      if (newVisibility !== isVisible) {\n        setIsVisible(newVisibility);\n      }\n\n      setLastScrollY(currentScrollY);\n    };\n\n    scrollElement.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => {\n      scrollElement.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [isInitialized, scrollContainerRef, isVisible, lastScrollY]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/login\").catch(() => {});\n  };\n\n  const wrapperStyle: CSSProperties = {\n    height: isVisible ? theme.height : 0,\n    overflow: \"hidden\",\n    opacity: isVisible ? 1 : 0,\n    position: \"relative\",\n    zIndex: 30,\n    ...theme.wrapper,\n  };\n\n  return (\n    <div style={wrapperStyle}>\n      <header style={theme.container as CSSProperties}>\n        <div style={theme.inner as CSSProperties}>\n          <Link\n            href=\"/\"\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 12,\n              textDecoration: \"none\",\n            }}\n          >\n            <img\n              src=\"/Logo.png\"\n              alt=\"Finance CV\"\n              style={{\n                height: theme.logo.height,\n                width: \"auto\",\n                objectFit: \"contain\",\n                filter: variant === \"landing\" ? \"drop-shadow(0 10px 30px rgba(0,0,0,0.45))\" : \"none\",\n              }}\n            />\n            {theme.tagline && (\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <span\n                  style={{\n                    fontSize: 16,\n                    fontWeight: 700,\n                    color: \"#0f172a\",\n                    letterSpacing: \"-0.01em\",\n                    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                  }}\n                >\n                  Finance CV\n                </span>\n                <span\n                  style={{\n                    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                    ...theme.tagline,\n                  }}\n                >\n                  Atelier de CV premium\n                </span>\n              </div>\n            )}\n          </Link>\n\n          <div style={theme.nav as CSSProperties}>\n            {rightActions ?? (\n              <>\n                <Link href=\"/cv\" style={theme.navLink as CSSProperties}>\n                  Générateur\n                </Link>\n                <Link href=\"/mes-cv\" style={theme.navLink as CSSProperties}>\n                  Mes CV\n                </Link>\n                <Link href=\"/a-propos\" style={theme.navLink as CSSProperties}>\n                  À propos\n                </Link>\n                <Link href=\"/cv\" style={theme.primary as CSSProperties}>\n                  Créer un CV\n                </Link>\n                {session?.user ? (\n                  <button\n                    type=\"button\"\n                    onClick={handleLogout}\n                    style={{\n                      ...theme.subtle,\n                      cursor: \"pointer\",\n                      border: \"none\",\n                      background: variant === \"landing\" ? \"rgba(15,15,40,0.35)\" : theme.subtle.backgroundColor,\n                      color: variant === \"landing\" ? \"#e2e8f0\" : (theme.subtle as CSSProperties).color,\n                    }}\n                  >\n                    Se déconnecter\n                  </button>\n                ) : (\n                  <Link href=\"/login\" style={theme.subtle as CSSProperties}>\n                    Se connecter\n                  </Link>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </header>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/finance-type/my-cv-app/pages/mes-cv.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/router'\nimport type { GetServerSidePropsContext } from 'next'\nimport { createPagesServerClient } from '@supabase/auth-helpers-nextjs'\nimport DynamicHeader from '../components/DynamicHeader'\nimport { createInitialBlocks } from '../data/initialCV'\n\ninterface CvSummary {\n  id: string\n  title: string\n  created_at: string\n  updated_at: string\n}\n\nexport default function MesCvPage() {\n  const router = useRouter()\n  const [cvs, setCvs] = useState<CvSummary[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [isCreating, setIsCreating] = useState(false)\n  const [deletingId, setDeletingId] = useState<string | null>(null)\n\n  const fetchCvs = async () => {\n    setIsLoading(true)\n    setError(null)\n    try {\n      const res = await fetch('/api/cv/list')\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}))\n        throw new Error(typeof data.error === 'string' ? data.error : 'Impossible de charger les CV.')\n      }\n      const { cvs: list } = (await res.json()) as { cvs: CvSummary[] }\n      setCvs(list)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Impossible de charger les CV.')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchCvs().catch(() => {})\n  }, [])\n\n  const handleCreateCv = async () => {\n    if (isCreating) return\n    setIsCreating(true)\n    setError(null)\n    try {\n      const blocks = createInitialBlocks()\n      const res = await fetch('/api/cv/save', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ title: 'Nouveau CV', blocks, fontScale: 1 }),\n      })\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}))\n        throw new Error(typeof data.error === 'string' ? data.error : 'Impossible de créer le CV.')\n      }\n      const { cv } = (await res.json()) as { cv?: { id: string } }\n      if (cv?.id) {\n        router.push({ pathname: '/cv', query: { id: cv.id } }).catch(() => {})\n        return\n      }\n      await fetchCvs()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Impossible de créer le CV.')\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  const handleDeleteCv = async (id: string) => {\n    if (deletingId) return\n    if (typeof window !== 'undefined') {\n      const confirmed = window.confirm('Supprimer ce CV ? Cette action est définitive.')\n      if (!confirmed) {\n        return\n      }\n    }\n    setDeletingId(id)\n    setError(null)\n    try {\n      const res = await fetch(`/api/cv/delete?id=${encodeURIComponent(id)}`, {\n        method: 'DELETE',\n      })\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}))\n        throw new Error(typeof data.error === 'string' ? data.error : 'Impossible de supprimer le CV.')\n      }\n      setCvs((previous) => previous.filter((cv) => cv.id !== id))\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Impossible de supprimer le CV.')\n    } finally {\n      setDeletingId(null)\n    }\n  }\n\n  const formatDate = (value: string) =>\n    new Date(value).toLocaleString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    })\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#f8fafc' }}>\n      <DynamicHeader />\n      <main style={{ maxWidth: '960px', margin: '0 auto', padding: '40px 20px', color: '#0f172a', fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\" }}>\n        <header\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '16px',\n            marginBottom: '28px',\n          }}\n        >\n          <div>\n            <span\n              style={{\n                fontSize: '13px',\n                letterSpacing: '0.08em',\n                color: '#2563eb',\n                textTransform: 'uppercase',\n                fontWeight: 700,\n              }}\n            >\n              Bibliothèque\n            </span>\n            <h1 style={{ fontSize: '32px', fontWeight: 800, marginTop: '4px' }}>Mes CV sauvegardés</h1>\n          </div>\n          <p style={{ fontSize: '15px', color: '#475569', maxWidth: '540px' }}>\n            Organisez vos différentes versions et reprenez la rédaction exactement là où vous vous êtes arrêté.\n          </p>\n          <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>\n            <button\n              type=\"button\"\n              onClick={handleCreateCv}\n              disabled={isCreating}\n              style={{\n                padding: '12px 22px',\n                borderRadius: '12px',\n                border: 'none',\n                background: 'linear-gradient(135deg, #1d4ed8, #2563eb)',\n                color: '#fff',\n                fontWeight: 700,\n                cursor: isCreating ? 'not-allowed' : 'pointer',\n                opacity: isCreating ? 0.7 : 1,\n                boxShadow: '0 10px 24px rgba(37, 99, 235, 0.25)',\n              }}\n            >\n              {isCreating ? 'Création…' : 'Créer un nouveau CV'}\n            </button>\n            <Link\n              href=\"/cv\"\n              style={{\n                padding: '12px 22px',\n                borderRadius: '12px',\n                border: '1px solid rgba(37, 99, 235, 0.25)',\n                color: '#1d4ed8',\n                textDecoration: 'none',\n                fontWeight: 600,\n                backgroundColor: 'rgba(37, 99, 235, 0.08)',\n              }}\n            >\n              Revenir à l&apos;éditeur\n            </Link>\n          </div>\n          {error && (\n            <div\n              style={{\n                backgroundColor: '#fee2e2',\n                border: '1px solid #fecaca',\n                color: '#b91c1c',\n                padding: '10px 12px',\n                borderRadius: '8px',\n                fontSize: '14px',\n              }}\n            >\n              {error}\n            </div>\n          )}\n        </header>\n\n        {isLoading ? (\n          <p style={{ color: '#64748b' }}>Chargement...</p>\n        ) : cvs.length === 0 ? (\n          <div\n            style={{\n              backgroundColor: '#ffffff',\n              border: '1px solid rgba(148, 163, 184, 0.2)',\n              borderRadius: '16px',\n              padding: '36px',\n              textAlign: 'center',\n              boxShadow: '0 16px 36px rgba(15, 23, 42, 0.08)',\n            }}\n          >\n            <p style={{ fontSize: '16px', color: '#475569' }}>Vous n&apos;avez pas encore de CV sauvegardé.</p>\n            <button\n              type=\"button\"\n              onClick={handleCreateCv}\n              disabled={isCreating}\n              style={{\n                marginTop: '20px',\n                padding: '12px 22px',\n                borderRadius: '12px',\n                border: 'none',\n                background: 'linear-gradient(135deg, #1d4ed8, #2563eb)',\n                color: '#fff',\n                fontWeight: 700,\n                cursor: isCreating ? 'not-allowed' : 'pointer',\n                opacity: isCreating ? 0.7 : 1,\n                boxShadow: '0 10px 24px rgba(37, 99, 235, 0.25)',\n              }}\n            >\n              {isCreating ? 'Création…' : 'Créer mon premier CV'}\n            </button>\n          </div>\n        ) : (\n          <div style={{ display: 'grid', gap: '20px', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))' }}>\n            <button\n              type=\"button\"\n              onClick={handleCreateCv}\n              disabled={isCreating}\n              style={{\n                background: 'rgba(37, 99, 235, 0.06)',\n                border: '1px dashed rgba(37, 99, 235, 0.45)',\n                borderRadius: '14px',\n                padding: '20px',\n                textAlign: 'left',\n                color: '#1d4ed8',\n                fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                cursor: isCreating ? 'not-allowed' : 'pointer',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '6px',\n                opacity: isCreating ? 0.6 : 1,\n                transition: 'transform 0.15s ease, box-shadow 0.15s ease',\n              }}\n              onMouseEnter={(event) => {\n                const target = event.currentTarget\n                if (!isCreating) {\n                  target.style.transform = 'translateY(-2px)'\n                  target.style.boxShadow = '0 10px 24px rgba(59, 130, 246, 0.25)'\n                }\n              }}\n              onMouseLeave={(event) => {\n                const target = event.currentTarget\n                target.style.transform = 'translateY(0)'\n                target.style.boxShadow = 'none'\n              }}\n            >\n              <span style={{ fontSize: '18px', fontWeight: 700, color: '#1d4ed8' }}>+ Créer un autre CV</span>\n              <span style={{ fontSize: '13px', color: '#475569' }}>\n                Lance un nouveau CV vierge tout en conservant les précédents.\n              </span>\n            </button>\n\n            {cvs.map((cv) => (\n              <button\n                key={cv.id}\n                onClick={() => router.push({ pathname: '/cv', query: { id: cv.id } }).catch(() => {})}\n                style={{\n                  background: '#ffffff',\n                  border: '1px solid rgba(148, 163, 184, 0.22)',\n                  borderRadius: '14px',\n                  padding: '20px',\n                  textAlign: 'left',\n                  color: '#0f172a',\n                  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\n                  cursor: 'pointer',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '12px',\n                  transition: 'transform 0.15s ease, box-shadow 0.15s ease',\n                  boxShadow: '0 10px 24px rgba(15, 23, 42, 0.05)',\n                }}\n                onMouseEnter={(event) => {\n                  const target = event.currentTarget\n                  target.style.transform = 'translateY(-2px)'\n                  target.style.boxShadow = '0 14px 28px rgba(15, 23, 42, 0.12)'\n                }}\n                onMouseLeave={(event) => {\n                  const target = event.currentTarget\n                  target.style.transform = 'translateY(0)'\n                  target.style.boxShadow = 'none'\n                }}\n              >\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '8px' }}>\n                  <span style={{ fontSize: '16px', fontWeight: 700 }}>{cv.title || 'CV sans titre'}</span>\n                  <button\n                    type=\"button\"\n                    onClick={(event) => {\n                      event.stopPropagation()\n                      handleDeleteCv(cv.id)\n                    }}\n                    disabled={deletingId === cv.id}\n                    style={{\n                      background: 'rgba(239, 68, 68, 0.08)',\n                      border: '1px solid rgba(239, 68, 68, 0.25)',\n                      color: '#dc2626',\n                      borderRadius: '999px',\n                      padding: '6px 14px',\n                      fontSize: '12px',\n                      fontWeight: 600,\n                      cursor: deletingId === cv.id ? 'not-allowed' : 'pointer',\n                      transition: 'background-color 0.15s ease',\n                    }}\n                    onMouseEnter={(event) => {\n                      const target = event.currentTarget\n                      if (deletingId !== cv.id) {\n                        target.style.backgroundColor = 'rgba(239, 68, 68, 0.14)'\n                      }\n                    }}\n                    onMouseLeave={(event) => {\n                      const target = event.currentTarget\n                      target.style.backgroundColor = 'rgba(239, 68, 68, 0.08)'\n                    }}\n                  >\n                    {deletingId === cv.id ? 'Suppression…' : 'Supprimer'}\n                  </button>\n                </div>\n                <span style={{ fontSize: '13px', color: '#475569' }}>Modifié le {formatDate(cv.updated_at)}</span>\n                <span style={{ fontSize: '12px', color: '#94a3b8' }}>Créé le {formatDate(cv.created_at)}</span>\n              </button>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n\nexport async function getServerSideProps(context: GetServerSidePropsContext) {\n  const supabase = createPagesServerClient(context)\n  const {\n    data: { session },\n  } = await supabase.auth.getSession()\n\n  if (!session) {\n    return {\n      redirect: {\n        destination: '/login?redirect=/mes-cv',\n        permanent: false,\n      },\n    }\n  }\n\n  return {\n    props: {\n      initialSession: session,\n    },\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}