{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/charlespelong/Desktop/finance-type/my-cv-app/pages/api/auth/callback.ts"],"sourcesContent":["import type { NextApiHandler } from 'next'\nimport { createPagesServerClient } from '@supabase/auth-helpers-nextjs'\n\nconst handler: NextApiHandler = async (req, res) => {\n  const { code, redirect } = req.query\n\n  if (typeof code === 'string') {\n    const supabase = createPagesServerClient({ req, res })\n    const { error } = await supabase.auth.exchangeCodeForSession(code)\n\n    if (error) {\n      return res.redirect(307, `/login?error=${encodeURIComponent(error.message)}`)\n    }\n  }\n\n  const candidate =\n    (Array.isArray(redirect) ? redirect[0] : redirect) ??\n    (typeof req.query.redirect_to === 'string' ? req.query.redirect_to : undefined)\n\n  const destination = typeof candidate === 'string' && candidate.startsWith('/') ? candidate : '/cv'\n\n  res.redirect(307, destination)\n}\n\nexport default handler\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM,UAA0B,OAAO,KAAK;IAC1C,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,KAAK;IAEpC,IAAI,OAAO,SAAS,UAAU;QAC5B,MAAM,WAAW,IAAA,kMAAuB,EAAC;YAAE;YAAK;QAAI;QACpD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,sBAAsB,CAAC;QAE7D,IAAI,OAAO;YACT,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,aAAa,EAAE,mBAAmB,MAAM,OAAO,GAAG;QAC9E;IACF;IAEA,MAAM,YACJ,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,CAAC,EAAE,GAAG,QAAQ,KACjD,CAAC,OAAO,IAAI,KAAK,CAAC,WAAW,KAAK,WAAW,IAAI,KAAK,CAAC,WAAW,GAAG,SAAS;IAEhF,MAAM,cAAc,OAAO,cAAc,YAAY,UAAU,UAAU,CAAC,OAAO,YAAY;IAE7F,IAAI,QAAQ,CAAC,KAAK;AACpB;uCAEe","debugId":null}}]
}